var suggestions = document.getElementById('suggestions');
var search = document.getElementById('search');

if (search !== null) {
  document.addEventListener('keydown', inputFocus);
}

function inputFocus(e) {
  if (e.ctrlKey && e.key === '/' ) {
    e.preventDefault();
    search.focus();
  }
  if (e.key === 'Escape' ) {
    search.blur();
    suggestions.classList.add('d-none');
  }
}

document.addEventListener('click', function(event) {

  var isClickInsideElement = suggestions.contains(event.target);

  if (!isClickInsideElement) {
    suggestions.classList.add('d-none');
  }

});

/*
Source:
  - https://dev.to/shubhamprakash/trap-focus-using-javascript-6a3
*/

document.addEventListener('keydown',suggestionFocus);

function suggestionFocus(e) {
  const suggestionsHidden = suggestions.classList.contains('d-none');
  if (suggestionsHidden) return;

  const focusableSuggestions= [...suggestions.querySelectorAll('a')];
  if (focusableSuggestions.length === 0) return;

  const index = focusableSuggestions.indexOf(document.activeElement);

  if (e.key === "ArrowUp") {
    e.preventDefault();
    const nextIndex = index > 0 ? index - 1 : 0;
    focusableSuggestions[nextIndex].focus();
  }
  else if (e.key === "ArrowDown") {
    e.preventDefault();
    const nextIndex= index + 1 < focusableSuggestions.length ? index + 1 : index;
    focusableSuggestions[nextIndex].focus();
  }

}

/*
Source:
  - https://github.com/nextapps-de/flexsearch#index-documents-field-search
  - https://raw.githack.com/nextapps-de/flexsearch/master/demo/autocomplete.html
*/

(function(){

  var index = new FlexSearch.Document({
    tokenize: "forward",
    cache: 100,
    document: {
      id: 'id',
      store: [
        "href", "title", "description"
      ],
      index: ["title", "description", "content"]
    }
  });


  // Not yet supported: https://github.com/nextapps-de/flexsearch#complex-documents

  /*
  var docs = [
    {
        id: 0,
        href: "https://notes.ming.ac/docs/prologue/introduction/",
        title: "Introduction",
        description: "Doks is a Hugo theme for building secure, fast, and SEO-ready documentation websites, which you can easily update and customize.",
        content: "\u003ch2 id=\"get-started\"\u003eGet started \u003ca href=\"#get-started\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eThere are two main ways to get started with Doks:\u003c/p\u003e\n\u003ch3 id=\"tutorial\"\u003eTutorial \u003ca href=\"#tutorial\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cdiv class=\"alert alert-warning d-flex\" role=\"alert\"\u003e\n  \u003cdiv class=\"flex-shrink-1 alert-icon\"\u003eðŸ‘‰ \u003c/div\u003e\n  \n    \u003cdiv class=\"w-100\"\u003eThe Tutorial is intended for novice to intermediate users. \u003c/div\u003e\n  \n\u003c/div\u003e\n\n\u003cp\u003eStep-by-step instructions on how to start a new Doks project. \u003ca href=\"https://getdoks.org/tutorial/introduction/\"\u003eTutorial â†’\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"quick-start\"\u003eQuick Start \u003ca href=\"#quick-start\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cdiv class=\"alert alert-warning d-flex\" role=\"alert\"\u003e\n  \u003cdiv class=\"flex-shrink-1 alert-icon\"\u003eðŸ‘‰ \u003c/div\u003e\n  \n    \u003cdiv class=\"w-100\"\u003eThe Quick Start is intended for intermediate to advanced users. \u003c/div\u003e\n  \n\u003c/div\u003e\n\n\u003cp\u003eOne page summary of how to start a new Doks project. \u003ca href=\"/docs/prologue/quick-start/\"\u003eQuick Start â†’\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"go-further\"\u003eGo further \u003ca href=\"#go-further\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eRecipes, Reference Guides, Extensions, and Showcase.\u003c/p\u003e\n\u003ch3 id=\"recipes\"\u003eRecipes \u003ca href=\"#recipes\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eGet instructions on how to accomplish common tasks with Doks. \u003ca href=\"https://getdoks.org/docs/recipes/project-configuration/\"\u003eRecipes â†’\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"reference-guides\"\u003eReference Guides \u003ca href=\"#reference-guides\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eLearn how to customize Doks to fully make it your own. \u003ca href=\"https://getdoks.org/docs/reference-guides/security/\"\u003eReference Guides â†’\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"extensions\"\u003eExtensions \u003ca href=\"#extensions\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eGet instructions on how to add even more to Doks. \u003ca href=\"https://getdoks.org/docs/extensions/breadcrumb-navigation/\"\u003eExtensions â†’\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"showcase\"\u003eShowcase \u003ca href=\"#showcase\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSee what others have build with Doks. \u003ca href=\"https://getdoks.org/showcase/electric-blocks/\"\u003eShowcase â†’\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"contributing\"\u003eContributing \u003ca href=\"#contributing\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eFind out how to contribute to Doks. \u003ca href=\"https://getdoks.org/docs/contributing/how-to-contribute/\"\u003eContributing â†’\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"help\"\u003eHelp \u003ca href=\"#help\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eGet help on Doks. \u003ca href=\"/docs/help/how-to-update/\"\u003eHelp â†’\u003c/a\u003e\u003c/p\u003e\n"
      },
    {
        id: 1,
        href: "https://notes.ming.ac/docs/prologue/quick-start/",
        title: "Quick Start",
        description: "One page summary of how to start a new Doks project.",
        content: "\u003ch2 id=\"requirements\"\u003eRequirements \u003ca href=\"#requirements\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eDoks uses npm to centralize dependency management, making it \u003ca href=\"/docs/help/how-to-update/\"\u003eeasy to update\u003c/a\u003e resources, build tooling, plugins, and build scripts:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDownload and install \u003ca href=\"https://nodejs.org/\"\u003eNode.js\u003c/a\u003e (it includes npm) for your platform.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"start-a-new-doks-project\"\u003eStart a new Doks project \u003ca href=\"#start-a-new-doks-project\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eCreate a new site, change directories, install dependencies, and start development server.\u003c/p\u003e\n\u003ch3 id=\"create-a-new-site\"\u003eCreate a new site \u003ca href=\"#create-a-new-site\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eDoks is available as a child theme, and a starter theme:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eUse the Doks child theme, if you do \u003cstrong\u003enot\u003c/strong\u003e plan to customize a lot, and/or need future Doks updates.\u003c/li\u003e\n\u003cli\u003eUse the Doks starter theme, if you plan to customize a lot, and/or do \u003cstrong\u003enot\u003c/strong\u003e need future Doks updates.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNot quite sure? Use the Doks child theme.\u003c/p\u003e\n\u003ch4 id=\"doks-child-theme\"\u003eDoks child theme \u003ca href=\"#doks-child-theme\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003egit clone https://github.com/h-enk/doks-child-theme.git my-doks-site\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"doks-starter-theme\"\u003eDoks starter theme \u003ca href=\"#doks-starter-theme\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003egit clone https://github.com/h-enk/doks.git my-doks-site\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"change-directories\"\u003eChange directories \u003ca href=\"#change-directories\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecd my-doks-site\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"install-dependencies\"\u003eInstall dependencies \u003ca href=\"#install-dependencies\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm install\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"start-development-server\"\u003eStart development server \u003ca href=\"#start-development-server\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run start\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eDoks will start the Hugo development webserver accessible by default at \u003ccode\u003ehttp://localhost:1313\u003c/code\u003e. Saved changes will live reload in the browser.\u003c/p\u003e\n\u003ch2 id=\"other-commands\"\u003eOther commands \u003ca href=\"#other-commands\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eDoks comes with commands for common tasks. \u003ca href=\"/docs/prologue/commands/\"\u003eCommands â†’\u003c/a\u003e\u003c/p\u003e\n"
      },
    {
        id: 2,
        href: "https://notes.ming.ac/docs/prologue/commands/",
        title: "Commands",
        description: "Doks comes with commands for common tasks.",
        content: "\u003cdiv class=\"alert alert-warning d-flex\" role=\"alert\"\u003e\n  \u003cdiv class=\"flex-shrink-1 alert-icon\"\u003eðŸ’¡ \u003c/div\u003e\n  \n    \u003cdiv class=\"w-100\"\u003eYou can change the commands in the scripts section of `./package.json`. \u003c/div\u003e\n  \n\u003c/div\u003e\n\n\u003ch2 id=\"create\"\u003ecreate \u003ca href=\"#create\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eCreate new content for your site:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run create [path] [flags]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSee also the Hugo docs: \u003ca href=\"https://gohugo.io/commands/hugo_new/\"\u003ehugo new\u003c/a\u003e.\u003c/p\u003e\n\u003ch2 id=\"lint\"\u003elint \u003ca href=\"#lint\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eCheck scripts, styles, and markdown for errors:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run lint\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"scripts\"\u003escripts \u003ca href=\"#scripts\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCheck scripts for errors:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run lint:scripts [-- --fix]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"styles\"\u003estyles \u003ca href=\"#styles\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCheck styles for errors:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run lint:styles [-- --fix]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"markdown\"\u003emarkdown \u003ca href=\"#markdown\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCheck markdown for errors:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run lint:markdown [-- --fix]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"clean\"\u003eclean \u003ca href=\"#clean\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eDelete temporary directories:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run clean\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"start\"\u003estart \u003ca href=\"#start\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eStart local development server:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run start\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"build\"\u003ebuild \u003ca href=\"#build\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eBuild production website:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run build\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"functions\"\u003efunctions \u003ca href=\"#functions\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eBuild Lambda functions:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run build:functions\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"preview\"\u003epreview \u003ca href=\"#preview\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eBuild production website including draft and future content:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run build:preview\n\u003c/code\u003e\u003c/pre\u003e\n"
      },
    {
        id: 3,
        href: "https://notes.ming.ac/docs/help/how-to-update/",
        title: "How to Update",
        description: "Regularly update the installed npm packages to keep your Doks website stable, usable, and secure.",
        content: "\u003cdiv class=\"alert alert-warning d-flex\" role=\"alert\"\u003e\n  \u003cdiv class=\"flex-shrink-1 alert-icon\"\u003eðŸ’¡ \u003c/div\u003e\n  \n    \u003cdiv class=\"w-100\"\u003eLearn more about \u003ca href=\"https://docs.npmjs.com/about-semantic-versioning\"\u003esemantic versioning\u003c/a\u003e and \u003ca href=\"https://docs.npmjs.com/cli/v6/using-npm/semver#advanced-range-syntax\"\u003eadvanced range syntax\u003c/a\u003e. \u003c/div\u003e\n  \n\u003c/div\u003e\n\n\u003ch2 id=\"check-for-outdated-packages\"\u003eCheck for outdated packages \u003ca href=\"#check-for-outdated-packages\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eThe \u003ca href=\"https://docs.npmjs.com/cli/v7/commands/npm-outdated\"\u003e\u003ccode\u003enpm outdated\u003c/code\u003e\u003c/a\u003e command will check the registry to see if any (or, specific) installed packages are currently outdated:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm outdated [[\u0026lt;@scope\u0026gt;/]\u0026lt;pkg\u0026gt; ...]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"update-packages\"\u003eUpdate packages \u003ca href=\"#update-packages\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eThe \u003ca href=\"https://docs.npmjs.com/cli/v7/commands/npm-update\"\u003e\u003ccode\u003enpm update\u003c/code\u003e\u003c/a\u003e command will update all the packages listed to the latest version (specified by the tag config), respecting semver:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm update [\u0026lt;pkg\u0026gt;...]\n\u003c/code\u003e\u003c/pre\u003e\n"
      },
    {
        id: 4,
        href: "https://notes.ming.ac/docs/help/troubleshooting/",
        title: "Troubleshooting",
        description: "Solutions to common problems.",
        content: "\u003ch2 id=\"problems-updating-npm-packages\"\u003eProblems updating npm packages \u003ca href=\"#problems-updating-npm-packages\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eDelete the \u003ccode\u003e./node_modules\u003c/code\u003e folder, and run again:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm install\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"problems-with-cache\"\u003eProblems with cache \u003ca href=\"#problems-with-cache\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eDelete the temporary directories:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003enpm run clean\n\u003c/code\u003e\u003c/pre\u003e\n"
      },
    {
        id: 5,
        href: "https://notes.ming.ac/docs/help/faq/",
        title: "FAQ",
        description: "Answers to frequently asked questions.",
        content: "\u003ch2 id=\"hyas\"\u003eHyas? \u003ca href=\"#hyas\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eDoks is a \u003ca href=\"https://gethyas.com/themes/\"\u003eHyas theme\u003c/a\u003e build by the creator of Hyas.\u003c/p\u003e\n\u003ch2 id=\"footer-notice\"\u003eFooter notice? \u003ca href=\"#footer-notice\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003ePlease keep it in place.\u003c/p\u003e\n\u003ch2 id=\"keyboard-shortcuts-for-search\"\u003eKeyboard shortcuts for search? \u003ca href=\"#keyboard-shortcuts-for-search\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003efocus: \u003ccode\u003eCtrl + /\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eselect: \u003ccode\u003eâ†“\u003c/code\u003e and \u003ccode\u003eâ†‘\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eopen: \u003ccode\u003eEnter\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eclose: \u003ccode\u003eEsc\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"other-documentation\"\u003eOther documentation? \u003ca href=\"#other-documentation\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docs.netlify.com/\"\u003eNetlify\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://gohugo.io/documentation/\"\u003eHugo\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"can-i-get-support\"\u003eCan I get support? \u003ca href=\"#can-i-get-support\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eCreate a topic:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://community.netlify.com/\"\u003eNetlify Community\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://discourse.gohugo.io/\"\u003eHugo Forums\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/h-enk/doks/discussions\"\u003eDoks Discussions\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"contact-the-creator\"\u003eContact the creator? \u003ca href=\"#contact-the-creator\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eSend \u003ccode\u003eh-enk\u003c/code\u003e a message:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://community.netlify.com/\"\u003eNetlify Community\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://discourse.gohugo.io/\"\u003eHugo Forums\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/h-enk/doks/discussions\"\u003eDoks Discussions\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"
      },
    {
        id: 6,
        href: "https://notes.ming.ac/docs/prologue/introduction/test/",
        title: "est",
        description: "",
        content: "\u003cp\u003easd\u003c/p\u003e\n\u003cp\u003eas\u003c/p\u003e\n\u003cp\u003eda\u003c/p\u003e\n\u003cp\u003esd\u003c/p\u003e\n\u003cp\u003eas\u003c/p\u003e\n"
      },
    {
        id: 7,
        href: "https://notes.ming.ac/docs/new/algorithm_02/",
        title: "02 æ•°æ®ç»“æž„",
        description: "",
        content: "\u003cul\u003e\n\u003cli\u003eé“¾è¡¨ä¸Žé‚»æŽ¥è¡¨ï¼šæ ‘ä¸Žå›¾çš„å­˜å‚¨\u003c/li\u003e\n\u003cli\u003eæ ˆä¸Žé˜Ÿåˆ—ï¼šå•è°ƒé˜Ÿåˆ—ã€å•è°ƒæ ˆ\u003c/li\u003e\n\u003cli\u003ekmp\u003c/li\u003e\n\u003cli\u003eTrie\u003c/li\u003e\n\u003cli\u003eå¹¶æŸ¥é›†\u003c/li\u003e\n\u003cli\u003eå †\u003c/li\u003e\n\u003cli\u003eHashè¡¨\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"é“¾è¡¨ä¸Žé‚»æŽ¥è¡¨æ ‘ä¸Žå›¾çš„å­˜å‚¨\"\u003eé“¾è¡¨ä¸Žé‚»æŽ¥è¡¨ï¼šæ ‘ä¸Žå›¾çš„å­˜å‚¨ \u003ca href=\"#%e9%93%be%e8%a1%a8%e4%b8%8e%e9%82%bb%e6%8e%a5%e8%a1%a8%e6%a0%91%e4%b8%8e%e5%9b%be%e7%9a%84%e5%ad%98%e5%82%a8\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿè¿™äº›ç»“æž„ï¼Œä¸é€‚ç”¨structå’ŒSTLã€‚ç›®çš„æ˜¯ä¸ºäº†æé«˜æ•ˆçŽ‡\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003estruct Node\n{\n\t\tint val;\n\t\tNode * next;\n};\n\nNode * p = new Node();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eé¢è¯•é¢˜è¾ƒå¤šï¼Œä½†æ˜¯newä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œåšé¢˜ä¸éœ€è¦ã€‚\u003c/p\u003e\n\u003ch2 id=\"ç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨\"\u003eç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨ \u003ca href=\"#%e7%94%a8%e6%95%b0%e7%bb%84%e6%a8%a1%e6%8b%9f%e5%8d%95%e9%93%be%e8%a1%a8\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eæœ€å¸¸ç”¨çš„é‚»æŽ¥è¡¨ï¼Œå­˜å‚¨å›¾å’Œæ ‘ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨é‚»æŽ¥è¡¨å­˜å‚¨çš„ã€‚\u003c/p\u003e\n\u003cp\u003eä»¥ä¸Šæ˜¯ç”¨æ•°ç»„e[N]å’Œæ•°ç»„ne[N]æ¥æ¨¡æ‹Ÿå•é“¾è¡¨ï¼Œå¦‚æžœæ˜¯ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå–-1ã€‚\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n\nusing namespace std; \n\nconst int N = 1e5 + 10;\n\n// head è¡¨ç¤ºå¤´ç»“ç‚¹çš„ä¸‹æ ‡\n// e[i]æ˜¯èŠ‚ç‚¹içš„å€¼\n// ne[i] æ˜¯èŠ‚ç‚¹içš„nextæŒ‡é’ˆ\n// idxæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰ç”¨åˆ°çš„ç‚¹ã€‚\nint head, e[N], ne[N], idx;\n\nvoid init()\n{\n    head = -1;\n    idx = 0;    \n}\n\n//å°†xæ’å…¥åˆ°å¤´ç»“ç‚¹\nvoid add_to_head(int x)\n{\n    e[idx] = x, ne[idx] = head, head = idx, idx ++;\n}\n\n//å°†xæ’å…¥åˆ°ä¸‹æ ‡æ˜¯kçš„ç‚¹çš„åŽé¢\nvoid add(int k, int x)\n{\n    e[idx] = x, ne[idx] = ne[k], ne[k] = idx, idx ++;   \n}\n\n//åˆ é™¤kåŽé¢çš„èŠ‚ç‚¹\nvoid remove(int k)\n{\n    ne[k] = ne[ne[k]];\n}\n\nint main()\n{\n    int m;\n    cin \u0026gt;\u0026gt; m;\n    \n    init();\n    while ( m --)\n    {\n        int k, x;\n        char op;\n        \n        cin \u0026gt;\u0026gt; op;\n        if (op == 'H')\n        {\n            cin \u0026gt;\u0026gt; x;\n            add_to_head(x);\n        }\n        else if( op ==  'D')\n        {\n            cin \u0026gt;\u0026gt; k;\n            if (k == 0) head = ne[head];\n            else remove(k - 1);\n        }else {\n            cin \u0026gt;\u0026gt; k \u0026gt;\u0026gt; x;\n            add(k - 1, x);\n        }\n    }\n    \n    for (int i = head; i != -1; i = ne[i])\n        cout \u0026lt;\u0026lt; e[i] \u0026lt;\u0026lt; \u0026quot; \u0026quot;;\n    \n \n    return 0;   \n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨\"\u003eç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨ \u003ca href=\"#%e7%94%a8%e6%95%b0%e7%bb%84%e6%a8%a1%e6%8b%9f%e5%8f%8c%e9%93%be%e8%a1%a8\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eç”¨æ¥ä¼˜åŒ–æŸäº›é—®é¢˜ã€‚\u003c/p\u003e\n\u003cp\u003eint l[N], r[N];ï¼Œè®©0æ˜¯headï¼Œ1æ˜¯tail\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n\nusing namespace std;\n\nconst int N = 100010;\n\nint m;\nint e[N], l[N], r[N], idx;\n\nvoid init()\n{\n    //0è¡¨ç¤ºå·¦ç«¯ç‚¹ï¼Œ1è¡¨ç¤ºå³ç«¯ç‚¹\n    r[0] = 1;\n    l[1] = 0;\n    idx = 2;\n}\n\nvoid add(int k, int x)\n{\n    //åœ¨kçš„å³è¾¹æ’å…¥x\n    e[idx] = x;\n    r[idx] = r[k];\n    l[idx] = k;\n    \n    l[r[k]] = idx;\n    r[k] = idx;\n\n    idx ++;\n    //å¦‚æžœæƒ³æ’å…¥å·¦è¾¹ï¼Œåªè¦add(l[k], x)\n}\n\nvoid remove(int k)\n{\n    r[l[k]] = r[k];\n    l[r[k]] = l[k];\n}\n\nint main() \n{\n    cin \u0026gt;\u0026gt; m;\n    \n    \n    \n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eé‚»æŽ¥è¡¨ï¼Œå°±æ˜¯nä¸ªå•é“¾è¡¨.\u003c/p\u003e\n\u003ch1 id=\"æ ˆä¸Žé˜Ÿåˆ—\"\u003eæ ˆä¸Žé˜Ÿåˆ— \u003ca href=\"#%e6%a0%88%e4%b8%8e%e9%98%9f%e5%88%97\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eæ ˆå°±æ˜¯å…ˆè¿›åŽå‡ºã€‚\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n\nusing namespace std;\n\nconst int N = 100010;\n\nint stk[N], tt;\n\nint main()\n{\n    åˆå§‹åŒ–\n    //tt = -1; \n    \n    å…¥æ ˆ\n    //stk[ ++ tt] = x;\n    \n    å‡ºæ ˆ\n    // return stk[tt --];\n    \n    ç©º\n    //if (tt \u0026gt;= 0) return true;\n    //else return false;\n    \n    æ ˆé¡¶\n    //stk[tt];\n}\n\nå®žé™…ä¸Šï¼Œä»¤tt = 0åˆå§‹åŒ–ï¼Œæ›´ç®€æ´ã€‚\n\nåˆ¤ç©ºæ—¶ï¼Œåªè¦ if (tt \u0026gt; 0) return true; // if(tt) return true;\n\t\t\t\t\telse return false;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eé˜Ÿåˆ—ï¼š\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e\nint q[N], hh = 0, tt = -1; //hhæ˜¯é˜Ÿå¤´ï¼Œ ttæ˜¯é˜Ÿå°¾ã€‚é˜Ÿå°¾æ’å…¥ï¼Œé˜Ÿå¤´å¼¹å‡º\n\n//æ’å…¥\nq[ ++ tt] = x;\n\n//å¼¹å‡ºï¼š\nreturn q[hh ++];\n\nif( hh \u0026lt;= tt) not empty;\nelse empty;\n\nå–å‡ºé˜Ÿå¤´é˜Ÿå°¾å…ƒç´ ï¼š\nreturn q[hh];\nreturn q[tt];\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eè€ƒéªŒè®°å¿†åŠ›å’Œæ¯…åŠ›ï¼ˆè‡ªåˆ¶åŠ›ï¼‰ã€‚\u003c/p\u003e\n\u003ch2 id=\"å•è°ƒæ ˆ\"\u003eå•è°ƒæ ˆï¼š \u003ca href=\"#%e5%8d%95%e8%b0%83%e6%a0%88\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eç»™å®šä¸€ä¸ªåºåˆ—ï¼Œæ±‚åºåˆ—ä¸­çš„æ¯ä¸€ä¸ªæ•°ï¼Œç¦»ä»–æœ€è¿‘çš„å·¦è¾¹æ¯”ä»–å°çš„æ•°ã€‚å¦åˆ™ä¸º-1ã€‚\u003c/p\u003e\n\u003cp\u003eæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªæ ˆï¼Œå¯¹äºŽæ¯ä¸ªxï¼Œä¹‹å‰çš„å…ƒç´ ï¼Œåº”è¯¥è®©stk[tt] â‰¥ xçš„éƒ½å‡ºæ ˆã€‚\u003c/p\u003e\n\u003cp\u003eè¿™æ ·xå†å…¥æ ˆï¼Œå°±æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢žçš„æ ˆåºåˆ—ã€‚è€Œæ‰¾åˆ°æœ€å°çš„ï¼Œåªè¦æ‰¾åˆ°xå…¥æ ˆå‰çš„æ ˆé¡¶å³å¯ã€‚\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n\nusing namespace std;\n\nconst int N = 1e5 + 10;\n\nint n;\nint stk[N], tt;\n\nint main()\n{\n    cin \u0026gt;\u0026gt; n;\n    \n    for(int i = 0; i \u0026lt; n; ++ i)\n    {\n        int x;\n        cin \u0026gt;\u0026gt; x;\n        while(tt \u0026amp;\u0026amp; stk[tt] \u0026gt;= x) tt --;\n        if (tt) cout \u0026lt;\u0026lt; stk[tt] \u0026lt;\u0026lt; \u0026quot; \u0026quot;;\n        else cout \u0026lt;\u0026lt; -1 \u0026lt;\u0026lt; \u0026quot; \u0026quot;;\n        \n        stk[++tt] = x;\n    }\n    \n    \n    return 0;\n}\n//è¿™ä¸ªç®—æ³•ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ€å¤šå…¥æ ˆå’Œå‡ºæ ˆä¸€æ¬¡ï¼Œæ‰€ä»¥å¤æ‚åº¦æ˜¯Oï¼ˆnï¼‰\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"å•è°ƒé˜Ÿåˆ—\"\u003eå•è°ƒé˜Ÿåˆ— \u003ca href=\"#%e5%8d%95%e8%b0%83%e9%98%9f%e5%88%97\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://www.acwing.com/problem/content/156/\"\u003ehttps://www.acwing.com/problem/content/156/\u003c/a\u003eæ»‘åŠ¨çª—å£\u003c/p\u003e\n\u003cp\u003eä¸€ä¸ªåºåˆ—ï¼Œåœ¨ä¸€ä¸ªçª—å£å†…ï¼Œç®—å‡ºå…¶æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œçª—å£é€æ¸å‘å³ç§»åŠ¨ã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨ä¸€ä¸ªçª—å£å†…ï¼Œå¦‚æžœå³è¾¹çš„å…ƒç´ æ¯”å·¦è¾¹çš„å…ƒç´ å°ï¼Œ\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eé¦–å…ˆè€ƒè™‘æš´åŠ›æ€Žä¹ˆåšã€‚\u003c/li\u003e\n\u003cli\u003eç„¶åŽè€ƒè™‘åœ¨çª—å£ç§»åŠ¨çš„æ—¶å€™ï¼Œæ€Žæ ·åˆ é™¤ä¸€äº›æ— ç”¨çš„å…ƒç´ ã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eå¦‚æžœä¸å¼€O2ä¼˜åŒ–ï¼Œé‚£ä¹ˆæ•°ç»„æ¯”STLå¿«ä¸€äº›ã€‚\u003c/p\u003e\n\u003cp\u003eO3ä¼˜åŒ–\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#pragma GCC optimize(2)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n\nusing namespace std;\n\nconst int N = 1e6 + 10;\n\nint a[N], q[N];\n//qæ˜¯ä¸‹æ ‡ï¼Œä¹Ÿå°±æ˜¯é˜Ÿåˆ—ï¼Œaåªæ˜¯è®°å½•çš„å€¼a[q[i]]æ˜¯å–ä¸‹æ ‡çš„å€¼ã€‚\nint n, k;\n\nint main()\n{\n    cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; k;\n    for(int i = 0; i \u0026lt; n; ++ i)\n    {\n        scanf(\u0026quot;%d\u0026quot;, \u0026amp;a[i]);\n    }\n    \n    \n    int hh = 0, tt = -1;\n    for(int i = 0; i \u0026lt; n; i ++)\n    {\n        //åˆ¤æ–­é˜Ÿå¤´æ˜¯å¦å·²ç»å‡ºçª—å£\n        if (hh \u0026lt;= tt \u0026amp;\u0026amp; i - k + 1 \u0026gt; q[hh])\n        {\n            ++ hh;\n        }\n        \n        //å½¢æˆä¸€ä¸ªå•è°ƒé€’å¢žçš„åºåˆ—ã€‚\n        while(hh \u0026lt;= tt \u0026amp;\u0026amp; a[q[tt]] \u0026gt;= a[i])\n            tt --;\n        q[++tt] = i;\n        if (i \u0026gt;= k - 1) printf(\u0026quot;%d \u0026quot;, a[q[hh]]);\n    }\n    \n    puts(\u0026quot;\u0026quot;);\n    hh = 0, tt = -1;\n    for(int i = 0; i \u0026lt; n; ++ i)\n    {\n        if( hh \u0026lt;= tt \u0026amp;\u0026amp; i - q[hh] + 1 \u0026gt; k)\n            ++ hh;\n        while( hh \u0026lt;= tt \u0026amp;\u0026amp; a[q[tt]] \u0026lt;= a[i])\n            tt --;\n         q[++tt] = i;\n        if (i \u0026gt;= k - 1) printf(\u0026quot;%d \u0026quot;, a[q[hh]]);\n       \n    }   \n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"kmp\"\u003eKMP \u003ca href=\"#kmp\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h1\u003e\n\u003col\u003e\n\u003cli\u003eæš´åŠ›ç®—æ³•æ€Žä¹ˆåšï¼Ÿ\u003c/li\u003e\n\u003cli\u003eå¦‚ä½•åŽ»ä¼˜åŒ–ã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eæœ´ç´ ç®—æ³•ï¼š\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eS[N]â†’ p[M]\nfor(int  i = 1; i â‰¤ n; ++i)\u003c/p\u003e\n\u003cp\u003ebool flag = true;\u003c/p\u003e\n\u003cp\u003eint t = i;\u003c/p\u003e\n\u003cp\u003efor(int j = 1; j â‰¤ m; j++, t++)\u003c/p\u003e\n\u003cp\u003eif (s[t] â‰  p[j])\u003c/p\u003e\n\u003cp\u003e{\u003c/p\u003e\n\u003cp\u003eflag = false;\u003c/p\u003e\n\u003cp\u003ebreak;\u003c/p\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eKMPè§£é‡Šï¼ˆä»¥1å¼€å§‹ï¼‰\u003c/p\u003e\n\u003cp\u003enextæ•°ç»„è¡¨ç¤ºï¼Œnext[i] = jï¼Œè¡¨ç¤ºp[1, j] = p[ i - j  + 1, i]\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;cstdio\u0026gt;\n\nusing namespace std;\n\nconst int N = 100010, M = 1000010;\n\nint n, m;\nchar p[N], s[M];\nint ne[N];\n\nint main() {\n    cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; p + 1 \u0026gt;\u0026gt; m \u0026gt;\u0026gt; s + 1; \n    //index from 1    \n    \n    // æ±‚Next\n    for(int i = 2, j = 0; i \u0026lt;= n; ++ i)\n    {\n//æ¯æ¬¡éƒ½æ¯”è¾ƒ j+1ä¸Žiï¼Œåˆ°æœ€åŽä¹‹å‰ï¼Œå¯ä»¥ä¿è¯1-jå·²ç»æ˜¯åŒ¹é…çš„ã€‚é™¤éžj = 0\n        while(j \u0026amp;\u0026amp; p[i] != p[ j + 1]) j = ne[j];\n        if(p[i] == p[j+1]) j++;\n        ne[i] = j;\n        //å‰jä¸ªï¼ˆ1-jï¼‰çš„å…ƒç´ ä¸Ž[i-j +1, i]çš„å…ƒç´ åŒ¹é…ï¼Œæ‰€ä»¥ne[i] = j\n    }\n    \n    \n    for(int i = 1, j = 0; i \u0026lt;=m ; ++ i)\n    {\n        while(j \u0026amp;\u0026amp; s[i] != p[ j + 1]) j = ne[j];\n        \n        if( s[i] == p[j+1]) j++;\n        if(j == n)//å‰nä¸ªå…ƒç´ å·²ç»åŒ¹é…\n        {\n            //åŒ¹é…æˆåŠŸ\n            printf(\u0026quot;%d \u0026quot;, i - n );\n            j = ne[j];\n        }\n    }\n    \n    \n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"trieæ ‘\"\u003eTrieæ ‘ \u003ca href=\"#trie%e6%a0%91\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eé«˜æ•ˆåœ°å­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œé›†åˆçš„æ•°æ®ç»“æž„\u003c/p\u003e\n\u003cp\u003eæ¯”å¦‚ï¼š\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eabcdef\nabdef\naced\nbcdf\nbcff\ncdaa\ndcdc\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eå½“æ•°é‡è¿‡å¤§ï¼Œå¯ä»¥ä½¿ç”¨äºŒè¿›åˆ¶æ¥è¡¨ç¤ºã€‚æ¯”å¦‚è€ƒè™‘æ±‰å­—ï¼Œç›´æŽ¥æ‰¾å…¶äºŒè¿›åˆ¶100000101010,æ¯ä¸€æ­¥ä»…è€ƒè™‘1å’Œ0.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;cstdio\u0026gt;\n\nusing namespace std;\n\nconst int N = 100010;\n\nint son[N][26], cnt[N], idx;\n//ä¸‹æ ‡æ˜¯0çš„ç‚¹ï¼Œæ—¢æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹\nchar str[N];\n\nvoid insert(char str[])\n{\n    int p = 0;\n    for(int i = 0; str[i]; ++i){\n        int u = str[i] - 'a';   \n        if (!son[p][u]) son[p][u] = ++ idx;\n        p = son[p][u];\n    }\n    cnt[p] ++;\n}\n\nint query(char str[])\n{\n    int p = 0;\n    for(int i = 0; str[i]; ++i)\n    {\n        int u = str[i] - 'a';\n        if(!son[p][u]) return 0;\n        p = son[p][u];\n    }\n    return cnt[p];\n}\n\nint main()\n{\n    int n;\n    cin \u0026gt;\u0026gt; n;\n    while(n--)\n    {\n        char op[2];\n        cin \u0026gt;\u0026gt; op \u0026gt;\u0026gt; str;\n        if (op[0] == 'I') insert(str);\n        else cout \u0026lt;\u0026lt; query(str) \u0026lt;\u0026lt; endl;\n    }\n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"å¹¶æŸ¥é›†\"\u003eå¹¶æŸ¥é›† \u003ca href=\"#%e5%b9%b6%e6%9f%a5%e9%9b%86\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eé¢è¯•å’Œæ¯”èµ›ï¼Œéžå¸¸å®¹æ˜“å‡ºçš„æ•°æ®ç»“æž„ã€‚\u003c/p\u003e\n\u003cp\u003eç”¨æ¥å¿«é€Ÿçš„å¤„ç†ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eå°†ä¸¤ä¸ªé›†åˆåˆå¹¶\u003c/li\u003e\n\u003cli\u003eè¯¢é—®ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆå½“ä¸­\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003ebelong[x] = aï¼Œå­˜å‚¨xå±žäºŽé›†åˆaã€‚\u003c/p\u003e\n\u003cp\u003eè¿‘ä¹ŽOï¼ˆ1ï¼‰çš„æ”¯æŒä¸Šé¢çš„ä¸¤ä¸ªæ“ä½œã€‚\u003c/p\u003e\n\u003cp\u003eåŸºæœ¬åŽŸç†ï¼šæ¯ä¸ªé›†åˆç”¨ä¸€æ£µæ ‘æ¥è¡¨ç¤ºï¼Œæ ‘æ ¹çš„ç¼–å·å°±æ˜¯æ•´ä¸ªé›†åˆçš„ç¼–å·ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œp[x] è¡¨ç¤ºçˆ¶èŠ‚ç‚¹ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eé—®é¢˜1ï¼š å¦‚ä½•åˆ¤æ–­æ ‘æ ¹ p\u003cinput checked=\"\" disabled=\"\" type=\"checkbox\"\u003e == x, xå°±æ˜¯é›†åˆçš„ç¼–å·\u003c/li\u003e\n\u003cli\u003eé—®é¢˜2ï¼šå¦‚ä½•æ±‚xçš„é›†åˆç¼–å·ï¼Œwhile(p\u003cinput checked=\"\" disabled=\"\" type=\"checkbox\"\u003e ! = x) x = p\u003cinput checked=\"\" disabled=\"\" type=\"checkbox\"\u003e \u003c/li\u003e\n\u003cli\u003eé—®é¢˜3ï¼šå¦‚ä½•åˆå¹¶ä¸¤ä¸ªé›†åˆï¼šå‡è®¾pxæ˜¯xçš„é›†åˆçš„ç¼–å·ï¼Œpyæ˜¯yçš„é›†åˆçš„ç¼–å·ï¼Œé‚£ä¹ˆp\u003cinput checked=\"\" disabled=\"\" type=\"checkbox\"\u003e = y;\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eå¹¶æŸ¥é›†çš„ä¼˜åŒ–ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eï¼ˆè·¯å¾„åŽ‹ç¼©ï¼‰, æ¯æ¬¡æŸ¥è¯¢å…¶çˆ¶èŠ‚ç‚¹ï¼Œåªè¦ç›´æŽ¥æŒ‡å‘å…¶ç¥–å®—èŠ‚ç‚¹ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eåˆå¹¶é›†åˆ\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;cstdio\u0026gt;\n\nusing namespace std;\n\nconst int N = 1e5 + 10;\n\nint p[N];\nint n, m;\n\nint find(int x) //è¿”å›žxçš„ç¥–å®—èŠ‚ç‚¹ï¼ŒåŠ ä¸Šè·¯å¾„åŽ‹ç¼©\n{\n    if(p[x] != x) p[x] = find(p[x]);\n    return p[x];\n}\n\nint main()\n{\n    cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m;\n    \n    for(int i = 1; i \u0026lt;=n ; ++ i) p[i] = i;\n    \n    while(m --)\n    {\n        char op[2];\n//å»ºè®®è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿè¦ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œè‡ªåŠ¨è¿‡æ»¤ç©ºæ ¼å’Œå›žè½¦\n        int a, b;\n        cin \u0026gt;\u0026gt; op \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b;\n        if(op[0] == 'M') p[find(a)] = find(b);\n        else {\n            if(find(a) == find(b)) puts(\u0026quot;Yes\u0026quot;);\n            else puts(\u0026quot;No\u0026quot;);\n        }\n    }\n    \n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eè¿žé€šå—ä¸­ç‚¹çš„æ•°é‡\u003ca href=\"https://www.acwing.com/problem/content/839/\"\u003ehttps://www.acwing.com/problem/content/839/\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;cstdio\u0026gt;\n\nusing namespace std;\n\nconst int N = 1e5 + 10;\n\n//å¦‚ä½•æŸ¥è¯¢æ¯ä¸ªè”é€šå—çš„æ•°é‡ï¼Ÿç»´æŠ¤æ ¹èŠ‚ç‚¹çš„sizeå³å¯ã€‚\nint p[N], siz[N];\nint n, m;\n\nint find(int x) //è¿”å›žxçš„ç¥–å®—èŠ‚ç‚¹ï¼ŒåŠ ä¸Šè·¯å¾„åŽ‹ç¼©\n{\n    if(p[x] != x) p[x] = find(p[x]);\n    return p[x];\n}\n\nint main()\n{\n    cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m;\n    \n    for(int i = 1; i \u0026lt;=n ; ++ i) {\n        p[i] = i;\n        siz[i] = 1;\n    }\n    \n    while(m --)\n    {\n        char op[5];\n//å»ºè®®è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿè¦ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œè‡ªåŠ¨è¿‡æ»¤ç©ºæ ¼å’Œå›žè½¦\n        int a, b;\n        cin \u0026gt;\u0026gt; op;\n        if(op[0] == 'C')\n        {\n            cin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b;\n            if(find(a) != find(b))\n                siz[find(b)] += siz[find(a)];\n            p[find(a)] = find(b);\n            \n        } else if (op[1] == '1')\n        {\n            cin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b;\n            if(find(a) == find(b)) puts(\u0026quot;Yes\u0026quot;);\n            else puts(\u0026quot;No\u0026quot;);\n        } else\n        {\n            cin \u0026gt;\u0026gt; a;\n            cout \u0026lt;\u0026lt; siz[find(a)] \u0026lt;\u0026lt; endl;\n        }\n        \n    }\n    \n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"å †\"\u003eå † \u003ca href=\"#%e5%a0%86\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eå¦‚ä½•æ‰‹å†™ä¸€ä¸ªå †ï¼Ÿ\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eæ’å…¥ä¸€ä¸ªæ•°\u003c/li\u003e\n\u003cli\u003eæ±‚é›†åˆå½“ä¸­çš„æœ€å°å€¼\u003c/li\u003e\n\u003cli\u003eåˆ é™¤æœ€å°å€¼\u003c/li\u003e\n\u003cli\u003eåˆ é™¤ä»»æ„ä¸€ä¸ªå…ƒç´ \u003c/li\u003e\n\u003cli\u003eä¿®æ”¹ä»»æ„ä¸€ä¸ªå…ƒç´ \u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eå †çš„åŸºæœ¬ç»“æž„ï¼š\u003c/p\u003e\n\u003cp\u003eæ˜¯ä¸€æ£µäºŒå‰æ ‘ã€‚æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚\u003c/p\u003e\n\u003cp\u003eä»¥å°é¡¶å †ä¸ºä¾‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹éƒ½å¤§äºŽè¯¥èŠ‚ç‚¹çš„å€¼ã€‚\u003c/p\u003e\n\u003cp\u003eä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„å­˜æ”¾å †ã€‚\u003c/p\u003e\n\u003cp\u003e1å·ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ï¼Œxçš„å·¦å„¿å­æ˜¯2xï¼Œå³å­èŠ‚ç‚¹æ˜¯2x+1ã€‚\u003c/p\u003e\n\u003cp\u003eæ“ä½œï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003edown(x)ï¼Œå¾€ä¸‹è°ƒæ•´xã€‚æ¯æ¬¡æ‰¾è¿™ä¸ªèŠ‚ç‚¹å’Œä¸¤ä¸ªå­èŠ‚ç‚¹çš„æœ€å°å€¼ï¼Œç„¶åŽäº¤æ¢å³å¯ã€‚\u003c/li\u003e\n\u003cli\u003eup(x)ï¼Œå¾€ä¸Šè°ƒæ•´xã€‚æ¯æ¬¡å¾€ä¸Šå’Œçˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œéœ€è¦äº¤æ¢æ—¶äº¤æ¢å³å¯ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæ€Žä¹ˆæ’å…¥xï¼Ÿ\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eheap[ ++ idx] = x; up(x);\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæœ€å°å€¼ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eheap[1]\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eåˆ é™¤æœ€å°å€¼ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eheap[1] = heap[idx]; idxâ€”; down(1);\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eåˆ é™¤ä»»æ„å…ƒç´ \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eheap[k] = heap[size], sizeâ€”; down(k); up(k);\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eä¿®æ”¹å…ƒç´ ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eheap[k] = x; down(k); up(k);\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;algorithm\u0026gt;\n\nusing namespace std;\n\nconst int N = 100010;\n\nint n, m;\nint h[N], idx;\n\nvoid down(int u)\n{\n    int t = u;\n    if (u * 2 \u0026lt;= idx \u0026amp;\u0026amp; h[u * 2] \u0026lt; h[t]) t = u * 2;\n    if (u * 2 + 1 \u0026lt;= idx \u0026amp;\u0026amp; h[u*2 +1] \u0026lt; h[t]) t = u*2 + 1;\n    \n    if(u!=t){\n        swap(h[u], h[t]);\n        down(t);\n    }\n}\n\nvoid up(int u)\n{\n    while( u / 2 \u0026amp;\u0026amp; h[ u/2 ] \u0026gt; h[u])\n    {\n        swap(h[u/2], h[u]);\n        u/=2;\n    }   \n}\n\nint main()\n{\n    cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m;\n    \n    for(int i = 1; i \u0026lt;= n; ++ i) scanf(\u0026quot;%d\u0026quot;, \u0026amp;h[i]);\n    idx = n;\n    \n    for(int i = n/2; i ; -- i) down(i);\n    /*è¿™æ˜¯å»ºç«‹å †çš„è¿‡ç¨‹\n    ä¸ºä»€ä¹ˆä»Žn/2å¼€å§‹downï¼Ÿ\n    n/2çš„å­å­©å­æ˜¯æœ€åŽä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯å®Œå…¨äºŒå‰æ ‘çš„å€’æ•°ç¬¬äºŒå±‚ï¼Œæ‰€ä»¥è¿™æ ·ä¸€ç›´é€’å½’\n    çš„åšå°±å¥½ï¼Œè€Œä¸”æ—¶é—´å¤æ‚åº¦æ˜¯O(n);\n    */\n    \n    while(m--)\n    {\n        printf(\u0026quot;%d \u0026quot;, h[1]);\n        h[1] = h[idx];\n        idx --;\n        down(1);\n    }\n\n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eå¸¦æ˜ å°„ç‰ˆçš„å †æ“ä½œ:\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.acwing.com/problem/content/841/\"\u003ehttps://www.acwing.com/problem/content/841/\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;algorithm\u0026gt;\n#include\u0026lt;cstring\u0026gt;\n\nusing namespace std;\n\nconst int N = 100010;\n\nint n;\nint h[N], ph[N], hp[N], idx;\n//phå­˜æ”¾æ’å…¥çš„ç¬¬kä¸ªå…ƒç´ åœ¨å †çš„ä¸‹æ ‡ä½ç½®\n//hpå­˜æ”¾çš„æ˜¯å †ä¸­ç¬¬jä¸ªå…ƒç´ åœ¨phæ•°ç»„çš„ä½ç½®ç´¢å¼•ã€‚\n//phå’Œhpæ˜¯äº’ä¸ºåå‡½æ•°ã€‚\n\nvoid heap_swap(int a, int b)\n{\n    swap(ph[hp[a]], ph[hp[b]]);\n    swap(hp[a], hp[b]);\n    swap(h[a], h[b]);\n}\n\nvoid down(int u)\n{\n    int t = u;\n    if (u * 2 \u0026lt;= idx \u0026amp;\u0026amp; h[u * 2] \u0026lt; h[t]) t = u * 2;\n    if (u * 2 + 1 \u0026lt;= idx \u0026amp;\u0026amp; h[u*2 +1] \u0026lt; h[t]) t = u*2 + 1;\n    \n    if(u!=t){\n        heap_swap(u, t);\n        down(t);\n    }\n}\n\nvoid up(int u)\n{\n    while( u / 2 \u0026amp;\u0026amp; h[ u/2 ] \u0026gt; h[u])\n    {\n        heap_swap(u/2, u);\n        u/=2;\n    }   \n}\n\nint main()\n{\n    cin \u0026gt;\u0026gt; n;\n    int m = 0;\n    //mæ˜¯ç¬¬mä¸ªæ’å…¥çš„å…ƒç´ ã€‚\n    while(n --)\n    {\n        char op[10];\n        int k, x;\n        cin \u0026gt;\u0026gt; op;\n        if (!strcmp(op, \u0026quot;I\u0026quot;))\n        {\n            cin \u0026gt;\u0026gt; x;\n            idx ++;\n            m ++;\n            ph[m] = idx;\n            hp[idx] = m;\n            h[idx] = x;\n            up(idx);\n        }\n        else if (!strcmp(op, \u0026quot;PM\u0026quot;)) cout \u0026lt;\u0026lt; h[1] \u0026lt;\u0026lt; endl;\n        else if (!strcmp(op, \u0026quot;DM\u0026quot;))\n        {\n            heap_swap(1, idx);\n            idx --;\n            down(1);\n        }\n        else if(!strcmp(op, \u0026quot;D\u0026quot;))\n        {\n            cin \u0026gt;\u0026gt; k;\n            k = ph[k];\n            heap_swap(k, idx);\n            idx --;\n            down(k), up(k);\n        } else \n        {\n            cin \u0026gt;\u0026gt; k \u0026gt;\u0026gt; x;\n            k = ph[k];\n            h[k] = x;\n            down(k), up(k);\n        }\n    }\n\n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003efind()å’Œcnt()å¯ä»¥æ”¹æˆï¼Œget()å’Œcnt()ä¿è¯ä¸ç¼–è¯‘é”™è¯¯ï¼Œcompile ERRORã€‚\u003c/p\u003e\n\u003ch1 id=\"hashè¡¨\"\u003eHashè¡¨ \u003ca href=\"#hash%e8%a1%a8\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eå“ˆå¸Œè¡¨çš„å­˜å‚¨ç»“æž„ï¼Œè®¤ä¸ºæ˜¯O(1). å¦‚æžœè¦åˆ é™¤ï¼Œåªè¦å¼€ä¸ªæ•°ç»„æ ‡è®°ä¸€ä¸‹ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eå¼€æ”¾å¯»å€æ³•\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eæ‹‰é“¾æ³•\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eå¸¸è§æƒ…æ™¯ï¼š æŠŠ0-10^9çš„æ•°æ˜ å°„åˆ°0-10^5çš„æ•°ç»„ã€‚\u003c/p\u003e\n\u003cp\u003ex mod 10 ^ 5 é™„è¿‘çš„è´¨æ•°ã€‚ç„¶åŽå¤„ç†å†²çªã€‚100003.\u003c/p\u003e\n\u003cp\u003eå’Œç¦»æ•£åŒ–æ¯”è¾ƒï¼Œç¦»æ•£æ˜¯éœ€è¦ä¿åºçš„ã€‚\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eå¸¸ç”¨çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œæ–¹å¼ã€‚\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e//æ‹‰é“¾æ³•\n#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;cstring\u0026gt;//æœ‰memset\n\nusing namespace std;\n\nconst int N = 100003;\n//å–å¤§äºŽ10ä¸‡çš„æœ€å°çš„è´¨æ•°ã€‚\n\nint h[N], e[N], ne[N], idx;\n\nvoid insert(int x)\n{\n    int k = (x % N + N) % N; //å› ä¸ºæœ‰çš„æ•°æ˜¯è´Ÿæ•°ã€‚\n    \n    e[idx] = x;\n    //eå­˜å€¼\n    ne[idx] = h[k];\n    //neå­˜æŒ‡é’ˆ\n    h[k] = idx;\n    idx ++;\n    //æ’å…¥å¤´éƒ¨ã€‚\n}\n\nbool find(int x)\n{\n    int k = (x % N + N) % N;\n    for(int i = h[k]; i != -1; i = ne[i])\n    {\n        if(e[i] == x)\n            return true;\n    }\n    return false;\n}\n\nint main(){\n    int n;\n    \n    memset(h, -1, sizeof h);\n    \n    cin \u0026gt;\u0026gt; n;\n    while(n --)\n    {\n        char op[2];\n        int x;\n        cin \u0026gt;\u0026gt; op \u0026gt;\u0026gt; x;\n        \n        if(op[0] == 'I') insert(x);\n        else {\n            if (find(x)) puts(\u0026quot;Yes\u0026quot;);\n            else puts(\u0026quot;No\u0026quot;);\n        }\n    }\n        \n    \n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e//å¼€æ”¾å¯»å€æ³•\n#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;cstring\u0026gt;\n\nusing namespace std;\n\n//0xf3f3f3f3æ˜¯10^9çº§åˆ«ï¼Œå¾ˆå¤§ï¼Œç”¨æ¥åˆå§‹åŒ–æ•°ç»„\nconst int N = 2e5 + 3, null = 0x3f3f3f3f;\n//ä¸€èˆ¬å–ä¸‰å€ã€‚\n//å–è´¨æ•°ã€‚\nint h[N];\n\nint find(int x)\n{\n    int k = (x % N + N) % N;\n \n    while(h[k] != null \u0026amp;\u0026amp; h[k] != x)\n    {\n        k ++;\n        if(k == N) k = 0;\n    }\n    //è¿™ä¸ªè¿‡ç¨‹ä¸€å®šä¼šåœæ­¢çš„ï¼Œå› ä¸ºæ€»å…±åªæœ‰1e5ä¸ªæ•°å­—ï¼Œè€ŒNæ˜¯äºŒå€ï¼Œæ‰€ä»¥ä¸æ‹…å¿ƒæ»¡;\n    //ç»“æŸæ¡ä»¶æ—¶ï¼Œh[k] == null æˆ– h[k] == x\n    return k;\n}\n\nint main(){\n    int n;\n    cin \u0026gt;\u0026gt; n;\n    \n    memset(h, 0x3f, sizeof h);\n    \n    while(n --)\n    {\n        char op[2];\n        int x;\n        cin \u0026gt;\u0026gt; op \u0026gt;\u0026gt; x;\n        \n        int k = find(x);\n        if (op[0] == 'I')\n        {\n            h[k] = x;\n        } \n        else\n        {\n            if (h[k] != null) puts(\u0026quot;Yes\u0026quot;);\n            else puts(\u0026quot;No\u0026quot;);\n        }\n        \n    }\n    \n    \n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003estr = \u0026ldquo;ABCDEF\u0026rdquo;\nh[1] = \u0026ldquo;A\u0026rdquo; // å‰1ä¸ª\nh[2] = \u0026ldquo;AB\u0026rdquo;\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eå³å¤„ç†å‰ç¼€çš„hashï¼Œh[0] = 0\u003c/p\u003e\n\u003cp\u003eå¦‚æžœå¯¹å­—ç¬¦ä¸²è¿›è¡Œå“ˆå¸Œï¼Ÿå½“æˆpè¿›åˆ¶æ•°ï¼Œa * p ^ 3 + b * p * 2 â€¦â€¦;å†å–æ¨¡Qã€‚\u003c/p\u003e\n\u003cp\u003eä¸èƒ½æŠŠå­—æ¯æ˜ å°„æˆ0.\u003c/p\u003e\n\u003cp\u003eé‚£ä¹ˆå‰ç¼€å“ˆå¸Œå€¼æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬å·²ç»çŸ¥é“ h[L]åˆ°h[R]çš„å“ˆå¸Œå€¼\u003c/p\u003e\n\u003cp\u003eæ‰€ä»¥æ±‚L - Rçš„å“ˆå¸Œå€¼ï¼Œåªè¦ h[R] - h[L - 1] * p ^ {R-L+1};\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;cstring\u0026gt;\n\nusing namespace std;\n\ntypedef unsigned long long ULL;\n\nconst int N = 100010, P = 131; \n\nint n, m;\nchar str[N];\nULL h[N], p[N];\n//pæ˜¯å­˜æ”¾Pçš„næ¬¡æ–¹\n\nULL get(int l, int r)\n{\n    return h[r] - h[l - 1] * p[r - l + 1];\n}\n\nint main(){\n    \n    cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m \u0026gt;\u0026gt; str + 1;\n    \n    p[0] = 1;\n    for(int i = 1; i \u0026lt;= n; ++ i)\n    {\n        p[i] = p[i - 1] * P;\n        h[i] = h[i - 1] * P + str[i];\n    }\n    \n    while( m --)\n    {\n        int l1, r1, l2, r2;   \n        cin \u0026gt;\u0026gt; l1 \u0026gt;\u0026gt; r1 \u0026gt;\u0026gt; l2 \u0026gt;\u0026gt; r2;\n        if(get(l1, r1) == get(l2, r2))\n        {\n            puts(\u0026quot;Yes\u0026quot;);   \n        } else {\n            puts(\u0026quot;No\u0026quot;);   \n        }\n        \n    }\n    \n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ehashç®—æ³•æ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒæ¯”KMPæ›´å¥½\u003c/p\u003e\n\u003cp\u003eKMPæ›´é€‚åˆå¾ªçŽ¯èŠ‚ã€‚\u003c/p\u003e\n\u003ch1 id=\"cstlä½¿ç”¨\"\u003eC++STLä½¿ç”¨ \u003ca href=\"#cstl%e4%bd%bf%e7%94%a8\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h1\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003evector å¯å˜é•¿æ•°ç»„ï¼Œå€å¢žçš„æ€æƒ³\nstring å¤„ç†å­—ç¬¦ä¸²çš„åˆ©å™¨ï¼Œsubstr(), c_str()\nqueue, é˜Ÿåˆ—ï¼Œè¿›è¡Œpush(),front(), pop()\npriority_queueï¼Œä¼˜å…ˆé˜Ÿåˆ—ï¼Œå †ï¼Œpush(), top(), pop()\nstack æ ˆï¼ŒPush(), top(), pop()\n\ndeque åŒç«¯é˜Ÿåˆ—\n\nset, map, multiset, multimap åŸºäºŽå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰åŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ—\nunordered_set, unordered_map, unordered_multiset, unordered_multimap å“ˆå¸Œè¡¨\nbitset;åŽ‹ä½\n\nlistç”¨çš„ä¸å¤šã€‚\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"vector\"\u003evector: \u003ca href=\"#vector\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;cstdio\u0026gt;\n#include\u0026lt;cstring\u0026gt;\n#include\u0026lt;algorithm\u0026gt;\n#include\u0026lt;vector\u0026gt;\n\nusing namespace std;\n\nint main()\n{\n    vector\u0026lt;int\u0026gt; a(10, 3);\n    vector\u0026lt;int\u0026gt; b[10]; //å®šä¹‰æ•°ç»„\n    //å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º10çš„ï¼Œåˆå§‹å€¼ä¸º3çš„vector\n    //for(auto x : a) cout \u0026lt;\u0026lt; x \u0026lt;\u0026lt; endl;\n    \n    a.size(); //O(1)\n    a.empty(); \n    \n    a.clear();//æ¸…ç©º\n    /*ç³»ç»Ÿåˆ†é…ç©ºé—´æ—¶ï¼Œæ‰€éœ€æ—¶é—´ä¸Žç©ºé—´å¤§å°æ— å…³ï¼Œä¸Žç”³è¯·æ¬¡æ•°æœ‰å…³ï¼ï¼ï¼\n    æ‰€ä»¥å°½é‡å‡å°‘ç”³è¯·ç©ºé—´çš„æ¬¡æ•°ã€‚\n    vectoræœ€åˆåˆ†é…32çš„ç©ºé—´ï¼Œç„¶åŽå¦‚æžœä¸å¤Ÿï¼Œåˆ†é…64ï¼Œç„¶åŽcopyè¿‡åŽ»ä¹‹å‰çš„å…ƒç´ ã€‚\n    ç”³è¯·é•¿åº¦ä¸º2 ^ nçš„æ•°ç»„ï¼Œé‚£ä¹ˆéœ€è¦copy(1 + 2 + 2^n-1) = 2^nå¯ä»¥è®¤ä¸ºæ˜¯O(1)\n    ç”³è¯·ç©ºé—´çš„æ¬¡æ•°æ˜¯log(2^n) = n\n    */\n    \n    a.front();\n    a.back();\n    a.push_back();\n    a.pop_back();\n    begin();\n    end();\n    [];\n    \n\t\ta \u0026lt; bå¯ä»¥åˆ¤æ–­ä¸¤ä¸ªvectorçš„å¤§å°ï¼ŒæŒ‰å­—å…¸åºæ¯”ã€‚\n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"ä¸‹é¢æ˜¯æ¨¡æ¿\"\u003eä¸‹é¢æ˜¯æ¨¡æ¿ \u003ca href=\"#%e4%b8%8b%e9%9d%a2%e6%98%af%e6%a8%a1%e6%9d%bf\" class=\"anchor\" aria-hidden=\"true\"\u003e#\u003c/a\u003e\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003eC++ STLç®€ä»‹\nvector, å˜é•¿æ•°ç»„ï¼Œå€å¢žçš„æ€æƒ³\n    size()  è¿”å›žå…ƒç´ ä¸ªæ•°\n    empty()  è¿”å›žæ˜¯å¦ä¸ºç©º\n    clear()  æ¸…ç©º\n    front()/back()\n    push_back()/pop_back()\n    begin()/end()\n    []\n    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼ŒæŒ‰å­—å…¸åº\n\npair\u0026lt;int, int\u0026gt;p;\n    first, ç¬¬ä¸€ä¸ªå…ƒç´ \n    second, ç¬¬äºŒä¸ªå…ƒç´ \n    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼Œä»¥firstä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œä»¥secondä¸ºç¬¬äºŒå…³é”®å­—ï¼ˆå­—å…¸åºï¼‰\n\t\tp = make_pair(10, 2);\n\t\tp = {10, 2};\n\t\tpair\u0026lt;int, pair\u0026lt;int, int\u0026gt;\u0026gt;p;å­˜ä¸‰ä¸ª\n\nstringï¼Œå­—ç¬¦ä¸²\n    size()/length()  è¿”å›žå­—ç¬¦ä¸²é•¿åº¦\n    empty()\n    clear()\n    substr(èµ·å§‹ä¸‹æ ‡ï¼Œ(å­ä¸²é•¿åº¦))  è¿”å›žå­ä¸²\n    c_str()  è¿”å›žå­—ç¬¦ä¸²æ‰€åœ¨å­—ç¬¦æ•°ç»„çš„èµ·å§‹åœ°å€\n\t\t\t\tç”¨äºŽç”¨printfè¾“å‡º\n\t\tæ”¯æŒåŠ è¿ç®—ï¼š\n\t\t\t\tstring a = \u0026quot;1\u0026quot;;\n\t\t\t\ta += \u0026quot;bcd\u0026quot;;\n\nqueue, é˜Ÿåˆ—\n    size()\n    empty()\n    push()  å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´ \n    front()  è¿”å›žé˜Ÿå¤´å…ƒç´ \n    back()  è¿”å›žé˜Ÿå°¾å…ƒç´ \n    pop()  å¼¹å‡ºé˜Ÿå¤´å…ƒç´ \n\npriority_queue, ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯å¤§é¡¶å †\n    size()\n    empty()\n    push()  æ’å…¥ä¸€ä¸ªå…ƒç´ \n    top()  è¿”å›žå †é¡¶å…ƒç´ \n    pop()  å¼¹å‡ºå †é¡¶å…ƒç´ \n    å®šä¹‰æˆå°é¡¶å †çš„æ–¹å¼ï¼š\n\t\t\t\tpriority_queue\u0026lt;int, vector\u0026lt;int\u0026gt;, greater\u0026lt;int\u0026gt;\u0026gt; q;\n\t\t\n\t\tpriority_queue\u0026lt;int\u0026gt; heap;\n\t\t\t\tå¯ä»¥é€šè¿‡æ’å…¥-xå®žçŽ°å°é¡¶å †ã€‚\n\nstack, æ ˆ\n    size()\n    empty()\n    push()  å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªå…ƒç´ \n    top()  è¿”å›žæ ˆé¡¶å…ƒç´ \n    pop()  å¼¹å‡ºæ ˆé¡¶å…ƒç´ \n\ndeque, åŒç«¯é˜Ÿåˆ—ï¼ŒåŠ å¼ºç‰ˆvectorï¼Œæ•ˆçŽ‡ä½Žï¼Œå°½é‡ä¸ç”¨\n    size()\n    empty()\n    clear()\n    front()/back()\n    push_back()/pop_back()\n    push_front()/pop_front()\n    begin()/end() è¿­ä»£å™¨\n    [] æ”¯æŒç›´æŽ¥ç´¢å¼•\n\nset, map, multiset, multimap, åŸºäºŽå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼ŒåŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ—\n    size()\n    empty()\n    clear()\n    begin()/end()\n    ++, -- è¿”å›žå‰é©±å’ŒåŽç»§ï¼Œæ—¶é—´å¤æ‚åº¦ O(logn)\n\n    set/multiset\n\t\t\t\tsetä¸å…è®¸é‡å¤å…ƒç´ \n        insert()  æ’å…¥ä¸€ä¸ªæ•°\n        find()  æŸ¥æ‰¾ä¸€ä¸ªæ•°ï¼Œè¿”å›žè¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›žendè¿­ä»£å™¨\n        count()  è¿”å›žæŸä¸€ä¸ªæ•°çš„ä¸ªæ•°\n        erase()\n            (1) è¾“å…¥æ˜¯ä¸€ä¸ªæ•°xï¼Œåˆ é™¤æ‰€æœ‰x   O(k + logn)\n            (2) è¾“å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåˆ é™¤è¿™ä¸ªè¿­ä»£å™¨\n        lower_bound()/upper_bound()\n            lower_bound(x)  è¿”å›žå¤§äºŽç­‰äºŽxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨\n            upper_bound(x)  è¿”å›žå¤§äºŽxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨\n    map/multimap\n        insert()  æ’å…¥çš„æ•°æ˜¯ä¸€ä¸ªpair\n        erase()  è¾“å…¥çš„å‚æ•°æ˜¯pairæˆ–è€…è¿­ä»£å™¨\n        find()\n        []  æ³¨æ„multimapä¸æ”¯æŒæ­¤æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn)\n        lower_bound()/upper_bound()\n\t\t\t\t\n\t\t\t\tmap\u0026lt;string ,int\u0026gt; a;\n\t\t\t\ta[\u0026quot;yxc\u0026quot;] = 1;\n\t\t\t\tcout \u0026lt;\u0026lt; a[\u0026quot;yec\u0026quot;] \u0026lt;\u0026lt; endl;\n\t\t\t\t\nunordered_set, unordered_map, unordered_multiset, unordered_multimap, å“ˆå¸Œè¡¨\n    å’Œä¸Šé¢ç±»ä¼¼ï¼Œå¢žåˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)\n    ä¸æ”¯æŒ lower_bound()/upper_bound()ï¼Œ è¿­ä»£å™¨çš„++ï¼Œ--.\n\nbitset, åœ§ä½\n\t\tæ˜¯boolæ•°ç»„çš„1/8ã€‚ðŸ‚\n    bitset\u0026lt;10000\u0026gt; s; \n\t\t~s;\n\n    ~, \u0026amp;, |, ^\n    \u0026gt;\u0026gt;, \u0026lt;\u0026lt;\n    ==, !=\n    []\n\n    count()  è¿”å›žæœ‰å¤šå°‘ä¸ª1\n\n    any()  åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª1\n    none()  åˆ¤æ–­æ˜¯å¦å…¨ä¸º0\n\n    set()  æŠŠæ‰€æœ‰ä½ç½®æˆ1\n    set(k, v)  å°†ç¬¬kä½å˜æˆv\n    reset()  æŠŠæ‰€æœ‰ä½å˜æˆ0\n    flip()  ç­‰ä»·äºŽ~\n    flip(k) æŠŠç¬¬kä½å–å\n\nä½œè€…ï¼šyxc\né“¾æŽ¥ï¼šhttps://www.acwing.com/blog/content/404/\næ¥æºï¼šAcWing\n\u003c/code\u003e\u003c/pre\u003e\n"
      },
    {
        id: 8,
        href: "https://notes.ming.ac/docs/help/",
        title: "Help",
        description: "Help Doks.",
        content: ""
      },
    {
        id: 9,
        href: "https://notes.ming.ac/docs/prologue/",
        title: "Prologue",
        description: "Prologue Doks.",
        content: ""
      },
    {
        id: 10,
        href: "https://notes.ming.ac/docs/",
        title: "Docs",
        description: "Docs Doks.",
        content: ""
      },
    ];
  */

  // https://discourse.gohugo.io/t/range-length-or-last-element/3803/2

  index.add(
    {
        id: 0,
        href: "/docs/prologue/introduction/",
        title: "Introduction",
        description: "Doks is a Hugo theme for building secure, fast, and SEO-ready documentation websites, which you can easily update and customize.",
        content: "Get started # There are two main ways to get started with Doks:\nTutorial # ðŸ‘‰  The Tutorial is intended for novice to intermediate users.   Step-by-step instructions on how to start a new Doks project. Tutorial â†’\nQuick Start # ðŸ‘‰  The Quick Start is intended for intermediate to advanced users.   One page summary of how to start a new Doks project. Quick Start â†’\nGo further # Recipes, Reference Guides, Extensions, and Showcase.\nRecipes # Get instructions on how to accomplish common tasks with Doks. Recipes â†’\nReference Guides # Learn how to customize Doks to fully make it your own. Reference Guides â†’\nExtensions # Get instructions on how to add even more to Doks. Extensions â†’\nShowcase # See what others have build with Doks. Showcase â†’\nContributing # Find out how to contribute to Doks. Contributing â†’\nHelp # Get help on Doks. Help â†’\n"
      })
      .add(
      {
        id: 1,
        href: "/docs/prologue/quick-start/",
        title: "Quick Start",
        description: "One page summary of how to start a new Doks project.",
        content: "Requirements # Doks uses npm to centralize dependency management, making it easy to update resources, build tooling, plugins, and build scripts:\n Download and install Node.js (it includes npm) for your platform.  Start a new Doks project # Create a new site, change directories, install dependencies, and start development server.\nCreate a new site # Doks is available as a child theme, and a starter theme:\n Use the Doks child theme, if you do not plan to customize a lot, and/or need future Doks updates. Use the Doks starter theme, if you plan to customize a lot, and/or do not need future Doks updates.  Not quite sure? Use the Doks child theme.\nDoks child theme # git clone https://github.com/h-enk/doks-child-theme.git my-doks-site  Doks starter theme # git clone https://github.com/h-enk/doks.git my-doks-site  Change directories # cd my-doks-site  Install dependencies # npm install  Start development server # npm run start  Doks will start the Hugo development webserver accessible by default at http://localhost:1313. Saved changes will live reload in the browser.\nOther commands # Doks comes with commands for common tasks. Commands â†’\n"
      })
      .add(
      {
        id: 2,
        href: "/docs/prologue/commands/",
        title: "Commands",
        description: "Doks comes with commands for common tasks.",
        content: "ðŸ’¡  You can change the commands in the scripts section of `./package.json`.   create # Create new content for your site:\nnpm run create [path] [flags]  See also the Hugo docs: hugo new.\nlint # Check scripts, styles, and markdown for errors:\nnpm run lint  scripts # Check scripts for errors:\nnpm run lint:scripts [-- --fix]  styles # Check styles for errors:\nnpm run lint:styles [-- --fix]  markdown # Check markdown for errors:\nnpm run lint:markdown [-- --fix]  clean # Delete temporary directories:\nnpm run clean  start # Start local development server:\nnpm run start  build # Build production website:\nnpm run build  functions # Build Lambda functions:\nnpm run build:functions  preview # Build production website including draft and future content:\nnpm run build:preview  "
      })
      .add(
      {
        id: 3,
        href: "/docs/help/how-to-update/",
        title: "How to Update",
        description: "Regularly update the installed npm packages to keep your Doks website stable, usable, and secure.",
        content: "ðŸ’¡  Learn more about semantic versioning and advanced range syntax.   Check for outdated packages # The npm outdated command will check the registry to see if any (or, specific) installed packages are currently outdated:\nnpm outdated [[\u0026lt;@scope\u0026gt;/]\u0026lt;pkg\u0026gt; ...]  Update packages # The npm update command will update all the packages listed to the latest version (specified by the tag config), respecting semver:\nnpm update [\u0026lt;pkg\u0026gt;...]  "
      })
      .add(
      {
        id: 4,
        href: "/docs/help/troubleshooting/",
        title: "Troubleshooting",
        description: "Solutions to common problems.",
        content: "Problems updating npm packages # Delete the ./node_modules folder, and run again:\nnpm install  Problems with cache # Delete the temporary directories:\nnpm run clean  "
      })
      .add(
      {
        id: 5,
        href: "/docs/help/faq/",
        title: "FAQ",
        description: "Answers to frequently asked questions.",
        content: "Hyas? # Doks is a Hyas theme build by the creator of Hyas.\nFooter notice? # Please keep it in place.\nKeyboard shortcuts for search? #  focus: Ctrl + / select: â†“ and â†‘ open: Enter close: Esc  Other documentation? #  Netlify Hugo  Can I get support? # Create a topic:\n Netlify Community Hugo Forums Doks Discussions  Contact the creator? # Send h-enk a message:\n Netlify Community Hugo Forums Doks Discussions  "
      })
      .add(
      {
        id: 6,
        href: "/docs/prologue/introduction/test/",
        title: "est",
        description: "asd\nas\nda\nsd\nas",
        content: "asd\nas\nda\nsd\nas\n"
      })
      .add(
      {
        id: 7,
        href: "/docs/new/algorithm_02/",
        title: "02 æ•°æ®ç»“æž„",
        description: "é“¾è¡¨ä¸Žé‚»æŽ¥è¡¨ï¼šæ ‘ä¸Žå›¾çš„å­˜å‚¨ æ ˆä¸Žé˜Ÿåˆ—ï¼šå•è°ƒé˜Ÿåˆ—ã€å•è°ƒæ ˆ kmp Trie å¹¶æŸ¥é›† å † Hashè¡¨  é“¾è¡¨ä¸Žé‚»æŽ¥è¡¨ï¼šæ ‘ä¸Žå›¾çš„å­˜å‚¨ # ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿè¿™äº›ç»“æž„ï¼Œä¸é€‚ç”¨structå’ŒSTLã€‚ç›®çš„æ˜¯ä¸ºäº†æé«˜æ•ˆçŽ‡\nstruct Node { int val; Node * next; }; Node * p = new Node();  é¢è¯•é¢˜è¾ƒå¤šï¼Œä½†æ˜¯newä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œåšé¢˜ä¸éœ€è¦ã€‚\nç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨ # æœ€å¸¸ç”¨çš„é‚»æŽ¥è¡¨ï¼Œå­˜å‚¨å›¾å’Œæ ‘ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨é‚»æŽ¥è¡¨å­˜å‚¨çš„ã€‚\nä»¥ä¸Šæ˜¯ç”¨æ•°ç»„e[N]å’Œæ•°ç»„ne[N]æ¥æ¨¡æ‹Ÿå•é“¾è¡¨ï¼Œå¦‚æžœæ˜¯ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå–-1ã€‚\n#include\u0026lt;iostream\u0026gt; using namespace std; const int N = 1e5 + 10; // head è¡¨ç¤ºå¤´ç»“ç‚¹çš„ä¸‹æ ‡ // e[i]æ˜¯èŠ‚ç‚¹içš„å€¼ // ne[i] æ˜¯èŠ‚ç‚¹içš„nextæŒ‡é’ˆ // idxæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰ç”¨åˆ°çš„ç‚¹ã€‚ int head, e[N], ne[N], idx; void init() { head = -1; idx = 0; } //å°†xæ’å…¥åˆ°å¤´ç»“ç‚¹ void add_to_head(int x) { e[idx] = x, ne[idx] = head, head = idx, idx ++; } //å°†xæ’å…¥åˆ°ä¸‹æ ‡æ˜¯kçš„ç‚¹çš„åŽé¢ void add(int k, int x) { e[idx] = x, ne[idx] = ne[k], ne[k] = idx, idx ++; } //åˆ é™¤kåŽé¢çš„èŠ‚ç‚¹ void remove(int k) { ne[k] = ne[ne[k]]; } int main() { int m; cin \u0026gt;\u0026gt; m; init(); while ( m --) { int k, x; char op; cin \u0026gt;\u0026gt; op; if (op == 'H') { cin \u0026gt;\u0026gt; x; add_to_head(x); } else if( op == 'D') { cin \u0026gt;\u0026gt; k; if (k == 0) head = ne[head]; else remove(k - 1); }else { cin \u0026gt;\u0026gt; k \u0026gt;\u0026gt; x; add(k - 1, x); } } for (int i = head; i !",
        content: " é“¾è¡¨ä¸Žé‚»æŽ¥è¡¨ï¼šæ ‘ä¸Žå›¾çš„å­˜å‚¨ æ ˆä¸Žé˜Ÿåˆ—ï¼šå•è°ƒé˜Ÿåˆ—ã€å•è°ƒæ ˆ kmp Trie å¹¶æŸ¥é›† å † Hashè¡¨  é“¾è¡¨ä¸Žé‚»æŽ¥è¡¨ï¼šæ ‘ä¸Žå›¾çš„å­˜å‚¨ # ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿè¿™äº›ç»“æž„ï¼Œä¸é€‚ç”¨structå’ŒSTLã€‚ç›®çš„æ˜¯ä¸ºäº†æé«˜æ•ˆçŽ‡\nstruct Node { int val; Node * next; }; Node * p = new Node();  é¢è¯•é¢˜è¾ƒå¤šï¼Œä½†æ˜¯newä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œåšé¢˜ä¸éœ€è¦ã€‚\nç”¨æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨ # æœ€å¸¸ç”¨çš„é‚»æŽ¥è¡¨ï¼Œå­˜å‚¨å›¾å’Œæ ‘ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨é‚»æŽ¥è¡¨å­˜å‚¨çš„ã€‚\nä»¥ä¸Šæ˜¯ç”¨æ•°ç»„e[N]å’Œæ•°ç»„ne[N]æ¥æ¨¡æ‹Ÿå•é“¾è¡¨ï¼Œå¦‚æžœæ˜¯ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå–-1ã€‚\n#include\u0026lt;iostream\u0026gt; using namespace std; const int N = 1e5 + 10; // head è¡¨ç¤ºå¤´ç»“ç‚¹çš„ä¸‹æ ‡ // e[i]æ˜¯èŠ‚ç‚¹içš„å€¼ // ne[i] æ˜¯èŠ‚ç‚¹içš„nextæŒ‡é’ˆ // idxæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰ç”¨åˆ°çš„ç‚¹ã€‚ int head, e[N], ne[N], idx; void init() { head = -1; idx = 0; } //å°†xæ’å…¥åˆ°å¤´ç»“ç‚¹ void add_to_head(int x) { e[idx] = x, ne[idx] = head, head = idx, idx ++; } //å°†xæ’å…¥åˆ°ä¸‹æ ‡æ˜¯kçš„ç‚¹çš„åŽé¢ void add(int k, int x) { e[idx] = x, ne[idx] = ne[k], ne[k] = idx, idx ++; } //åˆ é™¤kåŽé¢çš„èŠ‚ç‚¹ void remove(int k) { ne[k] = ne[ne[k]]; } int main() { int m; cin \u0026gt;\u0026gt; m; init(); while ( m --) { int k, x; char op; cin \u0026gt;\u0026gt; op; if (op == 'H') { cin \u0026gt;\u0026gt; x; add_to_head(x); } else if( op == 'D') { cin \u0026gt;\u0026gt; k; if (k == 0) head = ne[head]; else remove(k - 1); }else { cin \u0026gt;\u0026gt; k \u0026gt;\u0026gt; x; add(k - 1, x); } } for (int i = head; i != -1; i = ne[i]) cout \u0026lt;\u0026lt; e[i] \u0026lt;\u0026lt; \u0026quot; \u0026quot;; return 0; }  ç”¨æ•°ç»„æ¨¡æ‹ŸåŒé“¾è¡¨ # ç”¨æ¥ä¼˜åŒ–æŸäº›é—®é¢˜ã€‚\nint l[N], r[N];ï¼Œè®©0æ˜¯headï¼Œ1æ˜¯tail\n#include\u0026lt;iostream\u0026gt; using namespace std; const int N = 100010; int m; int e[N], l[N], r[N], idx; void init() { //0è¡¨ç¤ºå·¦ç«¯ç‚¹ï¼Œ1è¡¨ç¤ºå³ç«¯ç‚¹ r[0] = 1; l[1] = 0; idx = 2; } void add(int k, int x) { //åœ¨kçš„å³è¾¹æ’å…¥x e[idx] = x; r[idx] = r[k]; l[idx] = k; l[r[k]] = idx; r[k] = idx; idx ++; //å¦‚æžœæƒ³æ’å…¥å·¦è¾¹ï¼Œåªè¦add(l[k], x) } void remove(int k) { r[l[k]] = r[k]; l[r[k]] = l[k]; } int main() { cin \u0026gt;\u0026gt; m; }  é‚»æŽ¥è¡¨ï¼Œå°±æ˜¯nä¸ªå•é“¾è¡¨.\næ ˆä¸Žé˜Ÿåˆ— # æ ˆå°±æ˜¯å…ˆè¿›åŽå‡ºã€‚\n#include\u0026lt;iostream\u0026gt; using namespace std; const int N = 100010; int stk[N], tt; int main() { åˆå§‹åŒ– //tt = -1; å…¥æ ˆ //stk[ ++ tt] = x; å‡ºæ ˆ // return stk[tt --]; ç©º //if (tt \u0026gt;= 0) return true; //else return false; æ ˆé¡¶ //stk[tt]; } å®žé™…ä¸Šï¼Œä»¤tt = 0åˆå§‹åŒ–ï¼Œæ›´ç®€æ´ã€‚ åˆ¤ç©ºæ—¶ï¼Œåªè¦ if (tt \u0026gt; 0) return true; // if(tt) return true; else return false;  é˜Ÿåˆ—ï¼š\nint q[N], hh = 0, tt = -1; //hhæ˜¯é˜Ÿå¤´ï¼Œ ttæ˜¯é˜Ÿå°¾ã€‚é˜Ÿå°¾æ’å…¥ï¼Œé˜Ÿå¤´å¼¹å‡º //æ’å…¥ q[ ++ tt] = x; //å¼¹å‡ºï¼š return q[hh ++]; if( hh \u0026lt;= tt) not empty; else empty; å–å‡ºé˜Ÿå¤´é˜Ÿå°¾å…ƒç´ ï¼š return q[hh]; return q[tt];  è€ƒéªŒè®°å¿†åŠ›å’Œæ¯…åŠ›ï¼ˆè‡ªåˆ¶åŠ›ï¼‰ã€‚\nå•è°ƒæ ˆï¼š # ç»™å®šä¸€ä¸ªåºåˆ—ï¼Œæ±‚åºåˆ—ä¸­çš„æ¯ä¸€ä¸ªæ•°ï¼Œç¦»ä»–æœ€è¿‘çš„å·¦è¾¹æ¯”ä»–å°çš„æ•°ã€‚å¦åˆ™ä¸º-1ã€‚\næˆ‘ä»¬è®¾ç½®ä¸€ä¸ªæ ˆï¼Œå¯¹äºŽæ¯ä¸ªxï¼Œä¹‹å‰çš„å…ƒç´ ï¼Œåº”è¯¥è®©stk[tt] â‰¥ xçš„éƒ½å‡ºæ ˆã€‚\nè¿™æ ·xå†å…¥æ ˆï¼Œå°±æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢žçš„æ ˆåºåˆ—ã€‚è€Œæ‰¾åˆ°æœ€å°çš„ï¼Œåªè¦æ‰¾åˆ°xå…¥æ ˆå‰çš„æ ˆé¡¶å³å¯ã€‚\n#include\u0026lt;iostream\u0026gt; using namespace std; const int N = 1e5 + 10; int n; int stk[N], tt; int main() { cin \u0026gt;\u0026gt; n; for(int i = 0; i \u0026lt; n; ++ i) { int x; cin \u0026gt;\u0026gt; x; while(tt \u0026amp;\u0026amp; stk[tt] \u0026gt;= x) tt --; if (tt) cout \u0026lt;\u0026lt; stk[tt] \u0026lt;\u0026lt; \u0026quot; \u0026quot;; else cout \u0026lt;\u0026lt; -1 \u0026lt;\u0026lt; \u0026quot; \u0026quot;; stk[++tt] = x; } return 0; } //è¿™ä¸ªç®—æ³•ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ€å¤šå…¥æ ˆå’Œå‡ºæ ˆä¸€æ¬¡ï¼Œæ‰€ä»¥å¤æ‚åº¦æ˜¯Oï¼ˆnï¼‰  å•è°ƒé˜Ÿåˆ— # https://www.acwing.com/problem/content/156/æ»‘åŠ¨çª—å£\nä¸€ä¸ªåºåˆ—ï¼Œåœ¨ä¸€ä¸ªçª—å£å†…ï¼Œç®—å‡ºå…¶æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œçª—å£é€æ¸å‘å³ç§»åŠ¨ã€‚\nåœ¨ä¸€ä¸ªçª—å£å†…ï¼Œå¦‚æžœå³è¾¹çš„å…ƒç´ æ¯”å·¦è¾¹çš„å…ƒç´ å°ï¼Œ\n é¦–å…ˆè€ƒè™‘æš´åŠ›æ€Žä¹ˆåšã€‚ ç„¶åŽè€ƒè™‘åœ¨çª—å£ç§»åŠ¨çš„æ—¶å€™ï¼Œæ€Žæ ·åˆ é™¤ä¸€äº›æ— ç”¨çš„å…ƒç´ ã€‚  å¦‚æžœä¸å¼€O2ä¼˜åŒ–ï¼Œé‚£ä¹ˆæ•°ç»„æ¯”STLå¿«ä¸€äº›ã€‚\nO3ä¼˜åŒ–\n#pragma GCC optimize(2)  #include\u0026lt;iostream\u0026gt; using namespace std; const int N = 1e6 + 10; int a[N], q[N]; //qæ˜¯ä¸‹æ ‡ï¼Œä¹Ÿå°±æ˜¯é˜Ÿåˆ—ï¼Œaåªæ˜¯è®°å½•çš„å€¼a[q[i]]æ˜¯å–ä¸‹æ ‡çš„å€¼ã€‚ int n, k; int main() { cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; k; for(int i = 0; i \u0026lt; n; ++ i) { scanf(\u0026quot;%d\u0026quot;, \u0026amp;a[i]); } int hh = 0, tt = -1; for(int i = 0; i \u0026lt; n; i ++) { //åˆ¤æ–­é˜Ÿå¤´æ˜¯å¦å·²ç»å‡ºçª—å£ if (hh \u0026lt;= tt \u0026amp;\u0026amp; i - k + 1 \u0026gt; q[hh]) { ++ hh; } //å½¢æˆä¸€ä¸ªå•è°ƒé€’å¢žçš„åºåˆ—ã€‚ while(hh \u0026lt;= tt \u0026amp;\u0026amp; a[q[tt]] \u0026gt;= a[i]) tt --; q[++tt] = i; if (i \u0026gt;= k - 1) printf(\u0026quot;%d \u0026quot;, a[q[hh]]); } puts(\u0026quot;\u0026quot;); hh = 0, tt = -1; for(int i = 0; i \u0026lt; n; ++ i) { if( hh \u0026lt;= tt \u0026amp;\u0026amp; i - q[hh] + 1 \u0026gt; k) ++ hh; while( hh \u0026lt;= tt \u0026amp;\u0026amp; a[q[tt]] \u0026lt;= a[i]) tt --; q[++tt] = i; if (i \u0026gt;= k - 1) printf(\u0026quot;%d \u0026quot;, a[q[hh]]); } }  KMP #  æš´åŠ›ç®—æ³•æ€Žä¹ˆåšï¼Ÿ å¦‚ä½•åŽ»ä¼˜åŒ–ã€‚  æœ´ç´ ç®—æ³•ï¼š\n S[N]â†’ p[M] for(int i = 1; i â‰¤ n; ++i)\nbool flag = true;\nint t = i;\nfor(int j = 1; j â‰¤ m; j++, t++)\nif (s[t] â‰  p[j])\n{\nflag = false;\nbreak;\n}\n KMPè§£é‡Šï¼ˆä»¥1å¼€å§‹ï¼‰\nnextæ•°ç»„è¡¨ç¤ºï¼Œnext[i] = jï¼Œè¡¨ç¤ºp[1, j] = p[ i - j + 1, i]\n#include\u0026lt;iostream\u0026gt; #include\u0026lt;cstdio\u0026gt; using namespace std; const int N = 100010, M = 1000010; int n, m; char p[N], s[M]; int ne[N]; int main() { cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; p + 1 \u0026gt;\u0026gt; m \u0026gt;\u0026gt; s + 1; //index from 1 // æ±‚Next for(int i = 2, j = 0; i \u0026lt;= n; ++ i) { //æ¯æ¬¡éƒ½æ¯”è¾ƒ j+1ä¸Žiï¼Œåˆ°æœ€åŽä¹‹å‰ï¼Œå¯ä»¥ä¿è¯1-jå·²ç»æ˜¯åŒ¹é…çš„ã€‚é™¤éžj = 0 while(j \u0026amp;\u0026amp; p[i] != p[ j + 1]) j = ne[j]; if(p[i] == p[j+1]) j++; ne[i] = j; //å‰jä¸ªï¼ˆ1-jï¼‰çš„å…ƒç´ ä¸Ž[i-j +1, i]çš„å…ƒç´ åŒ¹é…ï¼Œæ‰€ä»¥ne[i] = j } for(int i = 1, j = 0; i \u0026lt;=m ; ++ i) { while(j \u0026amp;\u0026amp; s[i] != p[ j + 1]) j = ne[j]; if( s[i] == p[j+1]) j++; if(j == n)//å‰nä¸ªå…ƒç´ å·²ç»åŒ¹é… { //åŒ¹é…æˆåŠŸ printf(\u0026quot;%d \u0026quot;, i - n ); j = ne[j]; } } return 0; }  Trieæ ‘ # é«˜æ•ˆåœ°å­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œé›†åˆçš„æ•°æ®ç»“æž„\næ¯”å¦‚ï¼š\n abcdef abdef aced bcdf bcff cdaa dcdc\n å½“æ•°é‡è¿‡å¤§ï¼Œå¯ä»¥ä½¿ç”¨äºŒè¿›åˆ¶æ¥è¡¨ç¤ºã€‚æ¯”å¦‚è€ƒè™‘æ±‰å­—ï¼Œç›´æŽ¥æ‰¾å…¶äºŒè¿›åˆ¶100000101010,æ¯ä¸€æ­¥ä»…è€ƒè™‘1å’Œ0.\n#include\u0026lt;iostream\u0026gt; #include\u0026lt;cstdio\u0026gt; using namespace std; const int N = 100010; int son[N][26], cnt[N], idx; //ä¸‹æ ‡æ˜¯0çš„ç‚¹ï¼Œæ—¢æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹ char str[N]; void insert(char str[]) { int p = 0; for(int i = 0; str[i]; ++i){ int u = str[i] - 'a'; if (!son[p][u]) son[p][u] = ++ idx; p = son[p][u]; } cnt[p] ++; } int query(char str[]) { int p = 0; for(int i = 0; str[i]; ++i) { int u = str[i] - 'a'; if(!son[p][u]) return 0; p = son[p][u]; } return cnt[p]; } int main() { int n; cin \u0026gt;\u0026gt; n; while(n--) { char op[2]; cin \u0026gt;\u0026gt; op \u0026gt;\u0026gt; str; if (op[0] == 'I') insert(str); else cout \u0026lt;\u0026lt; query(str) \u0026lt;\u0026lt; endl; } return 0; }  å¹¶æŸ¥é›† # é¢è¯•å’Œæ¯”èµ›ï¼Œéžå¸¸å®¹æ˜“å‡ºçš„æ•°æ®ç»“æž„ã€‚\nç”¨æ¥å¿«é€Ÿçš„å¤„ç†ï¼š\n å°†ä¸¤ä¸ªé›†åˆåˆå¹¶ è¯¢é—®ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆå½“ä¸­  belong[x] = aï¼Œå­˜å‚¨xå±žäºŽé›†åˆaã€‚\nè¿‘ä¹ŽOï¼ˆ1ï¼‰çš„æ”¯æŒä¸Šé¢çš„ä¸¤ä¸ªæ“ä½œã€‚\nåŸºæœ¬åŽŸç†ï¼šæ¯ä¸ªé›†åˆç”¨ä¸€æ£µæ ‘æ¥è¡¨ç¤ºï¼Œæ ‘æ ¹çš„ç¼–å·å°±æ˜¯æ•´ä¸ªé›†åˆçš„ç¼–å·ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œp[x] è¡¨ç¤ºçˆ¶èŠ‚ç‚¹ã€‚\n é—®é¢˜1ï¼š å¦‚ä½•åˆ¤æ–­æ ‘æ ¹ p== x, xå°±æ˜¯é›†åˆçš„ç¼–å· é—®é¢˜2ï¼šå¦‚ä½•æ±‚xçš„é›†åˆç¼–å·ï¼Œwhile(p! = x) x = p é—®é¢˜3ï¼šå¦‚ä½•åˆå¹¶ä¸¤ä¸ªé›†åˆï¼šå‡è®¾pxæ˜¯xçš„é›†åˆçš„ç¼–å·ï¼Œpyæ˜¯yçš„é›†åˆçš„ç¼–å·ï¼Œé‚£ä¹ˆp= y;  å¹¶æŸ¥é›†çš„ä¼˜åŒ–ï¼š\n ï¼ˆè·¯å¾„åŽ‹ç¼©ï¼‰, æ¯æ¬¡æŸ¥è¯¢å…¶çˆ¶èŠ‚ç‚¹ï¼Œåªè¦ç›´æŽ¥æŒ‡å‘å…¶ç¥–å®—èŠ‚ç‚¹ã€‚  åˆå¹¶é›†åˆ\n#include\u0026lt;iostream\u0026gt; #include\u0026lt;cstdio\u0026gt; using namespace std; const int N = 1e5 + 10; int p[N]; int n, m; int find(int x) //è¿”å›žxçš„ç¥–å®—èŠ‚ç‚¹ï¼ŒåŠ ä¸Šè·¯å¾„åŽ‹ç¼© { if(p[x] != x) p[x] = find(p[x]); return p[x]; } int main() { cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m; for(int i = 1; i \u0026lt;=n ; ++ i) p[i] = i; while(m --) { char op[2]; //å»ºè®®è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿè¦ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œè‡ªåŠ¨è¿‡æ»¤ç©ºæ ¼å’Œå›žè½¦ int a, b; cin \u0026gt;\u0026gt; op \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b; if(op[0] == 'M') p[find(a)] = find(b); else { if(find(a) == find(b)) puts(\u0026quot;Yes\u0026quot;); else puts(\u0026quot;No\u0026quot;); } } }  è¿žé€šå—ä¸­ç‚¹çš„æ•°é‡https://www.acwing.com/problem/content/839/\n#include\u0026lt;iostream\u0026gt; #include\u0026lt;cstdio\u0026gt; using namespace std; const int N = 1e5 + 10; //å¦‚ä½•æŸ¥è¯¢æ¯ä¸ªè”é€šå—çš„æ•°é‡ï¼Ÿç»´æŠ¤æ ¹èŠ‚ç‚¹çš„sizeå³å¯ã€‚ int p[N], siz[N]; int n, m; int find(int x) //è¿”å›žxçš„ç¥–å®—èŠ‚ç‚¹ï¼ŒåŠ ä¸Šè·¯å¾„åŽ‹ç¼© { if(p[x] != x) p[x] = find(p[x]); return p[x]; } int main() { cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m; for(int i = 1; i \u0026lt;=n ; ++ i) { p[i] = i; siz[i] = 1; } while(m --) { char op[5]; //å»ºè®®è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿè¦ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œè‡ªåŠ¨è¿‡æ»¤ç©ºæ ¼å’Œå›žè½¦ int a, b; cin \u0026gt;\u0026gt; op; if(op[0] == 'C') { cin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b; if(find(a) != find(b)) siz[find(b)] += siz[find(a)]; p[find(a)] = find(b); } else if (op[1] == '1') { cin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b; if(find(a) == find(b)) puts(\u0026quot;Yes\u0026quot;); else puts(\u0026quot;No\u0026quot;); } else { cin \u0026gt;\u0026gt; a; cout \u0026lt;\u0026lt; siz[find(a)] \u0026lt;\u0026lt; endl; } } }  å † # å¦‚ä½•æ‰‹å†™ä¸€ä¸ªå †ï¼Ÿ\n æ’å…¥ä¸€ä¸ªæ•° æ±‚é›†åˆå½“ä¸­çš„æœ€å°å€¼ åˆ é™¤æœ€å°å€¼ åˆ é™¤ä»»æ„ä¸€ä¸ªå…ƒç´  ä¿®æ”¹ä»»æ„ä¸€ä¸ªå…ƒç´   å †çš„åŸºæœ¬ç»“æž„ï¼š\næ˜¯ä¸€æ£µäºŒå‰æ ‘ã€‚æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚\nä»¥å°é¡¶å †ä¸ºä¾‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹éƒ½å¤§äºŽè¯¥èŠ‚ç‚¹çš„å€¼ã€‚\nä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„å­˜æ”¾å †ã€‚\n1å·ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ï¼Œxçš„å·¦å„¿å­æ˜¯2xï¼Œå³å­èŠ‚ç‚¹æ˜¯2x+1ã€‚\næ“ä½œï¼š\n down(x)ï¼Œå¾€ä¸‹è°ƒæ•´xã€‚æ¯æ¬¡æ‰¾è¿™ä¸ªèŠ‚ç‚¹å’Œä¸¤ä¸ªå­èŠ‚ç‚¹çš„æœ€å°å€¼ï¼Œç„¶åŽäº¤æ¢å³å¯ã€‚ up(x)ï¼Œå¾€ä¸Šè°ƒæ•´xã€‚æ¯æ¬¡å¾€ä¸Šå’Œçˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œéœ€è¦äº¤æ¢æ—¶äº¤æ¢å³å¯ã€‚  æ€Žä¹ˆæ’å…¥xï¼Ÿ\n heap[ ++ idx] = x; up(x);  æœ€å°å€¼ï¼š\n heap[1]  åˆ é™¤æœ€å°å€¼ï¼š\n heap[1] = heap[idx]; idxâ€”; down(1);  åˆ é™¤ä»»æ„å…ƒç´ \n heap[k] = heap[size], sizeâ€”; down(k); up(k);  ä¿®æ”¹å…ƒç´ ï¼š\n heap[k] = x; down(k); up(k);  #include\u0026lt;iostream\u0026gt; #include\u0026lt;algorithm\u0026gt; using namespace std; const int N = 100010; int n, m; int h[N], idx; void down(int u) { int t = u; if (u * 2 \u0026lt;= idx \u0026amp;\u0026amp; h[u * 2] \u0026lt; h[t]) t = u * 2; if (u * 2 + 1 \u0026lt;= idx \u0026amp;\u0026amp; h[u*2 +1] \u0026lt; h[t]) t = u*2 + 1; if(u!=t){ swap(h[u], h[t]); down(t); } } void up(int u) { while( u / 2 \u0026amp;\u0026amp; h[ u/2 ] \u0026gt; h[u]) { swap(h[u/2], h[u]); u/=2; } } int main() { cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m; for(int i = 1; i \u0026lt;= n; ++ i) scanf(\u0026quot;%d\u0026quot;, \u0026amp;h[i]); idx = n; for(int i = n/2; i ; -- i) down(i); /*è¿™æ˜¯å»ºç«‹å †çš„è¿‡ç¨‹ ä¸ºä»€ä¹ˆä»Žn/2å¼€å§‹downï¼Ÿ n/2çš„å­å­©å­æ˜¯æœ€åŽä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯å®Œå…¨äºŒå‰æ ‘çš„å€’æ•°ç¬¬äºŒå±‚ï¼Œæ‰€ä»¥è¿™æ ·ä¸€ç›´é€’å½’ çš„åšå°±å¥½ï¼Œè€Œä¸”æ—¶é—´å¤æ‚åº¦æ˜¯O(n); */ while(m--) { printf(\u0026quot;%d \u0026quot;, h[1]); h[1] = h[idx]; idx --; down(1); } return 0; }  å¸¦æ˜ å°„ç‰ˆçš„å †æ“ä½œ:\nhttps://www.acwing.com/problem/content/841/\n#include\u0026lt;iostream\u0026gt; #include\u0026lt;algorithm\u0026gt; #include\u0026lt;cstring\u0026gt; using namespace std; const int N = 100010; int n; int h[N], ph[N], hp[N], idx; //phå­˜æ”¾æ’å…¥çš„ç¬¬kä¸ªå…ƒç´ åœ¨å †çš„ä¸‹æ ‡ä½ç½® //hpå­˜æ”¾çš„æ˜¯å †ä¸­ç¬¬jä¸ªå…ƒç´ åœ¨phæ•°ç»„çš„ä½ç½®ç´¢å¼•ã€‚ //phå’Œhpæ˜¯äº’ä¸ºåå‡½æ•°ã€‚ void heap_swap(int a, int b) { swap(ph[hp[a]], ph[hp[b]]); swap(hp[a], hp[b]); swap(h[a], h[b]); } void down(int u) { int t = u; if (u * 2 \u0026lt;= idx \u0026amp;\u0026amp; h[u * 2] \u0026lt; h[t]) t = u * 2; if (u * 2 + 1 \u0026lt;= idx \u0026amp;\u0026amp; h[u*2 +1] \u0026lt; h[t]) t = u*2 + 1; if(u!=t){ heap_swap(u, t); down(t); } } void up(int u) { while( u / 2 \u0026amp;\u0026amp; h[ u/2 ] \u0026gt; h[u]) { heap_swap(u/2, u); u/=2; } } int main() { cin \u0026gt;\u0026gt; n; int m = 0; //mæ˜¯ç¬¬mä¸ªæ’å…¥çš„å…ƒç´ ã€‚ while(n --) { char op[10]; int k, x; cin \u0026gt;\u0026gt; op; if (!strcmp(op, \u0026quot;I\u0026quot;)) { cin \u0026gt;\u0026gt; x; idx ++; m ++; ph[m] = idx; hp[idx] = m; h[idx] = x; up(idx); } else if (!strcmp(op, \u0026quot;PM\u0026quot;)) cout \u0026lt;\u0026lt; h[1] \u0026lt;\u0026lt; endl; else if (!strcmp(op, \u0026quot;DM\u0026quot;)) { heap_swap(1, idx); idx --; down(1); } else if(!strcmp(op, \u0026quot;D\u0026quot;)) { cin \u0026gt;\u0026gt; k; k = ph[k]; heap_swap(k, idx); idx --; down(k), up(k); } else { cin \u0026gt;\u0026gt; k \u0026gt;\u0026gt; x; k = ph[k]; h[k] = x; down(k), up(k); } } return 0; }  find()å’Œcnt()å¯ä»¥æ”¹æˆï¼Œget()å’Œcnt()ä¿è¯ä¸ç¼–è¯‘é”™è¯¯ï¼Œcompile ERRORã€‚\nHashè¡¨ #   å“ˆå¸Œè¡¨çš„å­˜å‚¨ç»“æž„ï¼Œè®¤ä¸ºæ˜¯O(1). å¦‚æžœè¦åˆ é™¤ï¼Œåªè¦å¼€ä¸ªæ•°ç»„æ ‡è®°ä¸€ä¸‹ã€‚\n  å¼€æ”¾å¯»å€æ³•\n  æ‹‰é“¾æ³•\n  å¸¸è§æƒ…æ™¯ï¼š æŠŠ0-10^9çš„æ•°æ˜ å°„åˆ°0-10^5çš„æ•°ç»„ã€‚\nx mod 10 ^ 5 é™„è¿‘çš„è´¨æ•°ã€‚ç„¶åŽå¤„ç†å†²çªã€‚100003.\nå’Œç¦»æ•£åŒ–æ¯”è¾ƒï¼Œç¦»æ•£æ˜¯éœ€è¦ä¿åºçš„ã€‚\n  å¸¸ç”¨çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œæ–¹å¼ã€‚\n  //æ‹‰é“¾æ³• #include\u0026lt;iostream\u0026gt; #include\u0026lt;cstring\u0026gt;//æœ‰memset using namespace std; const int N = 100003; //å–å¤§äºŽ10ä¸‡çš„æœ€å°çš„è´¨æ•°ã€‚ int h[N], e[N], ne[N], idx; void insert(int x) { int k = (x % N + N) % N; //å› ä¸ºæœ‰çš„æ•°æ˜¯è´Ÿæ•°ã€‚ e[idx] = x; //eå­˜å€¼ ne[idx] = h[k]; //neå­˜æŒ‡é’ˆ h[k] = idx; idx ++; //æ’å…¥å¤´éƒ¨ã€‚ } bool find(int x) { int k = (x % N + N) % N; for(int i = h[k]; i != -1; i = ne[i]) { if(e[i] == x) return true; } return false; } int main(){ int n; memset(h, -1, sizeof h); cin \u0026gt;\u0026gt; n; while(n --) { char op[2]; int x; cin \u0026gt;\u0026gt; op \u0026gt;\u0026gt; x; if(op[0] == 'I') insert(x); else { if (find(x)) puts(\u0026quot;Yes\u0026quot;); else puts(\u0026quot;No\u0026quot;); } } return 0; }  //å¼€æ”¾å¯»å€æ³• #include\u0026lt;iostream\u0026gt; #include\u0026lt;cstring\u0026gt; using namespace std; //0xf3f3f3f3æ˜¯10^9çº§åˆ«ï¼Œå¾ˆå¤§ï¼Œç”¨æ¥åˆå§‹åŒ–æ•°ç»„ const int N = 2e5 + 3, null = 0x3f3f3f3f; //ä¸€èˆ¬å–ä¸‰å€ã€‚ //å–è´¨æ•°ã€‚ int h[N]; int find(int x) { int k = (x % N + N) % N; while(h[k] != null \u0026amp;\u0026amp; h[k] != x) { k ++; if(k == N) k = 0; } //è¿™ä¸ªè¿‡ç¨‹ä¸€å®šä¼šåœæ­¢çš„ï¼Œå› ä¸ºæ€»å…±åªæœ‰1e5ä¸ªæ•°å­—ï¼Œè€ŒNæ˜¯äºŒå€ï¼Œæ‰€ä»¥ä¸æ‹…å¿ƒæ»¡; //ç»“æŸæ¡ä»¶æ—¶ï¼Œh[k] == null æˆ– h[k] == x return k; } int main(){ int n; cin \u0026gt;\u0026gt; n; memset(h, 0x3f, sizeof h); while(n --) { char op[2]; int x; cin \u0026gt;\u0026gt; op \u0026gt;\u0026gt; x; int k = find(x); if (op[0] == 'I') { h[k] = x; } else { if (h[k] != null) puts(\u0026quot;Yes\u0026quot;); else puts(\u0026quot;No\u0026quot;); } } return 0; }  å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•ã€‚\n str = \u0026ldquo;ABCDEF\u0026rdquo; h[1] = \u0026ldquo;A\u0026rdquo; // å‰1ä¸ª h[2] = \u0026ldquo;AB\u0026rdquo;\n å³å¤„ç†å‰ç¼€çš„hashï¼Œh[0] = 0\nå¦‚æžœå¯¹å­—ç¬¦ä¸²è¿›è¡Œå“ˆå¸Œï¼Ÿå½“æˆpè¿›åˆ¶æ•°ï¼Œa * p ^ 3 + b * p * 2 â€¦â€¦;å†å–æ¨¡Qã€‚\nä¸èƒ½æŠŠå­—æ¯æ˜ å°„æˆ0.\né‚£ä¹ˆå‰ç¼€å“ˆå¸Œå€¼æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬å·²ç»çŸ¥é“ h[L]åˆ°h[R]çš„å“ˆå¸Œå€¼\næ‰€ä»¥æ±‚L - Rçš„å“ˆå¸Œå€¼ï¼Œåªè¦ h[R] - h[L - 1] * p ^ {R-L+1};\n#include\u0026lt;iostream\u0026gt; #include\u0026lt;cstring\u0026gt; using namespace std; typedef unsigned long long ULL; const int N = 100010, P = 131; int n, m; char str[N]; ULL h[N], p[N]; //pæ˜¯å­˜æ”¾Pçš„næ¬¡æ–¹ ULL get(int l, int r) { return h[r] - h[l - 1] * p[r - l + 1]; } int main(){ cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m \u0026gt;\u0026gt; str + 1; p[0] = 1; for(int i = 1; i \u0026lt;= n; ++ i) { p[i] = p[i - 1] * P; h[i] = h[i - 1] * P + str[i]; } while( m --) { int l1, r1, l2, r2; cin \u0026gt;\u0026gt; l1 \u0026gt;\u0026gt; r1 \u0026gt;\u0026gt; l2 \u0026gt;\u0026gt; r2; if(get(l1, r1) == get(l2, r2)) { puts(\u0026quot;Yes\u0026quot;); } else { puts(\u0026quot;No\u0026quot;); } } return 0; }  hashç®—æ³•æ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒæ¯”KMPæ›´å¥½\nKMPæ›´é€‚åˆå¾ªçŽ¯èŠ‚ã€‚\nC++STLä½¿ç”¨ # vector å¯å˜é•¿æ•°ç»„ï¼Œå€å¢žçš„æ€æƒ³ string å¤„ç†å­—ç¬¦ä¸²çš„åˆ©å™¨ï¼Œsubstr(), c_str() queue, é˜Ÿåˆ—ï¼Œè¿›è¡Œpush(),front(), pop() priority_queueï¼Œä¼˜å…ˆé˜Ÿåˆ—ï¼Œå †ï¼Œpush(), top(), pop() stack æ ˆï¼ŒPush(), top(), pop() deque åŒç«¯é˜Ÿåˆ— set, map, multiset, multimap åŸºäºŽå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰åŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ— unordered_set, unordered_map, unordered_multiset, unordered_multimap å“ˆå¸Œè¡¨ bitset;åŽ‹ä½ listç”¨çš„ä¸å¤šã€‚  vector: # #include\u0026lt;iostream\u0026gt; #include\u0026lt;cstdio\u0026gt; #include\u0026lt;cstring\u0026gt; #include\u0026lt;algorithm\u0026gt; #include\u0026lt;vector\u0026gt; using namespace std; int main() { vector\u0026lt;int\u0026gt; a(10, 3); vector\u0026lt;int\u0026gt; b[10]; //å®šä¹‰æ•°ç»„ //å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º10çš„ï¼Œåˆå§‹å€¼ä¸º3çš„vector //for(auto x : a) cout \u0026lt;\u0026lt; x \u0026lt;\u0026lt; endl; a.size(); //O(1) a.empty(); a.clear();//æ¸…ç©º /*ç³»ç»Ÿåˆ†é…ç©ºé—´æ—¶ï¼Œæ‰€éœ€æ—¶é—´ä¸Žç©ºé—´å¤§å°æ— å…³ï¼Œä¸Žç”³è¯·æ¬¡æ•°æœ‰å…³ï¼ï¼ï¼ æ‰€ä»¥å°½é‡å‡å°‘ç”³è¯·ç©ºé—´çš„æ¬¡æ•°ã€‚ vectoræœ€åˆåˆ†é…32çš„ç©ºé—´ï¼Œç„¶åŽå¦‚æžœä¸å¤Ÿï¼Œåˆ†é…64ï¼Œç„¶åŽcopyè¿‡åŽ»ä¹‹å‰çš„å…ƒç´ ã€‚ ç”³è¯·é•¿åº¦ä¸º2 ^ nçš„æ•°ç»„ï¼Œé‚£ä¹ˆéœ€è¦copy(1 + 2 + 2^n-1) = 2^nå¯ä»¥è®¤ä¸ºæ˜¯O(1) ç”³è¯·ç©ºé—´çš„æ¬¡æ•°æ˜¯log(2^n) = n */ a.front(); a.back(); a.push_back(); a.pop_back(); begin(); end(); []; a \u0026lt; bå¯ä»¥åˆ¤æ–­ä¸¤ä¸ªvectorçš„å¤§å°ï¼ŒæŒ‰å­—å…¸åºæ¯”ã€‚ return 0; }  ä¸‹é¢æ˜¯æ¨¡æ¿ # C++ STLç®€ä»‹ vector, å˜é•¿æ•°ç»„ï¼Œå€å¢žçš„æ€æƒ³ size() è¿”å›žå…ƒç´ ä¸ªæ•° empty() è¿”å›žæ˜¯å¦ä¸ºç©º clear() æ¸…ç©º front()/back() push_back()/pop_back() begin()/end() [] æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼ŒæŒ‰å­—å…¸åº pair\u0026lt;int, int\u0026gt;p; first, ç¬¬ä¸€ä¸ªå…ƒç´  second, ç¬¬äºŒä¸ªå…ƒç´  æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼Œä»¥firstä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œä»¥secondä¸ºç¬¬äºŒå…³é”®å­—ï¼ˆå­—å…¸åºï¼‰ p = make_pair(10, 2); p = {10, 2}; pair\u0026lt;int, pair\u0026lt;int, int\u0026gt;\u0026gt;p;å­˜ä¸‰ä¸ª stringï¼Œå­—ç¬¦ä¸² size()/length() è¿”å›žå­—ç¬¦ä¸²é•¿åº¦ empty() clear() substr(èµ·å§‹ä¸‹æ ‡ï¼Œ(å­ä¸²é•¿åº¦)) è¿”å›žå­ä¸² c_str() è¿”å›žå­—ç¬¦ä¸²æ‰€åœ¨å­—ç¬¦æ•°ç»„çš„èµ·å§‹åœ°å€ ç”¨äºŽç”¨printfè¾“å‡º æ”¯æŒåŠ è¿ç®—ï¼š string a = \u0026quot;1\u0026quot;; a += \u0026quot;bcd\u0026quot;; queue, é˜Ÿåˆ— size() empty() push() å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´  front() è¿”å›žé˜Ÿå¤´å…ƒç´  back() è¿”å›žé˜Ÿå°¾å…ƒç´  pop() å¼¹å‡ºé˜Ÿå¤´å…ƒç´  priority_queue, ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯å¤§é¡¶å † size() empty() push() æ’å…¥ä¸€ä¸ªå…ƒç´  top() è¿”å›žå †é¡¶å…ƒç´  pop() å¼¹å‡ºå †é¡¶å…ƒç´  å®šä¹‰æˆå°é¡¶å †çš„æ–¹å¼ï¼š priority_queue\u0026lt;int, vector\u0026lt;int\u0026gt;, greater\u0026lt;int\u0026gt;\u0026gt; q; priority_queue\u0026lt;int\u0026gt; heap; å¯ä»¥é€šè¿‡æ’å…¥-xå®žçŽ°å°é¡¶å †ã€‚ stack, æ ˆ size() empty() push() å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªå…ƒç´  top() è¿”å›žæ ˆé¡¶å…ƒç´  pop() å¼¹å‡ºæ ˆé¡¶å…ƒç´  deque, åŒç«¯é˜Ÿåˆ—ï¼ŒåŠ å¼ºç‰ˆvectorï¼Œæ•ˆçŽ‡ä½Žï¼Œå°½é‡ä¸ç”¨ size() empty() clear() front()/back() push_back()/pop_back() push_front()/pop_front() begin()/end() è¿­ä»£å™¨ [] æ”¯æŒç›´æŽ¥ç´¢å¼• set, map, multiset, multimap, åŸºäºŽå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼ŒåŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ— size() empty() clear() begin()/end() ++, -- è¿”å›žå‰é©±å’ŒåŽç»§ï¼Œæ—¶é—´å¤æ‚åº¦ O(logn) set/multiset setä¸å…è®¸é‡å¤å…ƒç´  insert() æ’å…¥ä¸€ä¸ªæ•° find() æŸ¥æ‰¾ä¸€ä¸ªæ•°ï¼Œè¿”å›žè¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›žendè¿­ä»£å™¨ count() è¿”å›žæŸä¸€ä¸ªæ•°çš„ä¸ªæ•° erase() (1) è¾“å…¥æ˜¯ä¸€ä¸ªæ•°xï¼Œåˆ é™¤æ‰€æœ‰x O(k + logn) (2) è¾“å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåˆ é™¤è¿™ä¸ªè¿­ä»£å™¨ lower_bound()/upper_bound() lower_bound(x) è¿”å›žå¤§äºŽç­‰äºŽxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨ upper_bound(x) è¿”å›žå¤§äºŽxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨ map/multimap insert() æ’å…¥çš„æ•°æ˜¯ä¸€ä¸ªpair erase() è¾“å…¥çš„å‚æ•°æ˜¯pairæˆ–è€…è¿­ä»£å™¨ find() [] æ³¨æ„multimapä¸æ”¯æŒæ­¤æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn) lower_bound()/upper_bound() map\u0026lt;string ,int\u0026gt; a; a[\u0026quot;yxc\u0026quot;] = 1; cout \u0026lt;\u0026lt; a[\u0026quot;yec\u0026quot;] \u0026lt;\u0026lt; endl; unordered_set, unordered_map, unordered_multiset, unordered_multimap, å“ˆå¸Œè¡¨ å’Œä¸Šé¢ç±»ä¼¼ï¼Œå¢žåˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1) ä¸æ”¯æŒ lower_bound()/upper_bound()ï¼Œ è¿­ä»£å™¨çš„++ï¼Œ--. bitset, åœ§ä½ æ˜¯boolæ•°ç»„çš„1/8ã€‚ðŸ‚ bitset\u0026lt;10000\u0026gt; s; ~s; ~, \u0026amp;, |, ^ \u0026gt;\u0026gt;, \u0026lt;\u0026lt; ==, != [] count() è¿”å›žæœ‰å¤šå°‘ä¸ª1 any() åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª1 none() åˆ¤æ–­æ˜¯å¦å…¨ä¸º0 set() æŠŠæ‰€æœ‰ä½ç½®æˆ1 set(k, v) å°†ç¬¬kä½å˜æˆv reset() æŠŠæ‰€æœ‰ä½å˜æˆ0 flip() ç­‰ä»·äºŽ~ flip(k) æŠŠç¬¬kä½å–å ä½œè€…ï¼šyxc é“¾æŽ¥ï¼šhttps://www.acwing.com/blog/content/404/ æ¥æºï¼šAcWing  "
      })
      .add(
      {
        id: 8,
        href: "/docs/help/",
        title: "Help",
        description: "Help Doks.",
        content: ""
      })
      .add(
      {
        id: 9,
        href: "/docs/prologue/",
        title: "Prologue",
        description: "Prologue Doks.",
        content: ""
      })
      .add(
      {
        id: 10,
        href: "/docs/",
        title: "Docs",
        description: "Docs Doks.",
        content: ""
      })
      ;

  search.addEventListener('input', show_results, true);

  function show_results(){
    const maxResult = 5;
    var searchQuery = this.value;
    var results = index.search(searchQuery, {limit: maxResult, enrich: true});

    // flatten results since index.search() returns results for each indexed field
    const flatResults = new Map(); // keyed by href to dedupe results
    for (const result of results.flatMap(r => r.result)) {
      if (flatResults.has(result.doc.href)) continue;
      flatResults.set(result.doc.href, result.doc);
    }

    suggestions.innerHTML = "";
    suggestions.classList.remove('d-none');

    // inform user that no results were found
    if (flatResults.size === 0 && searchQuery) {
      const noResultsMessage = document.createElement('div')
      noResultsMessage.innerHTML = `No results for "<strong>${searchQuery}</strong>"`
      noResultsMessage.classList.add("suggestion__no-results");
      suggestions.appendChild(noResultsMessage);
      return;
    }

    // construct a list of suggestions
    for(const [href, doc] of flatResults) {
        const entry = document.createElement('div');
        suggestions.appendChild(entry);

        const a = document.createElement('a');
        a.href = href;
        entry.appendChild(a);

        const title = document.createElement('span');
        title.textContent = doc.title;
        title.classList.add("suggestion__title");
        a.appendChild(title);

        const description = document.createElement('span');
        description.textContent = doc.description;
        description.classList.add("suggestion__description");
        a.appendChild(description);

        suggestions.appendChild(entry);

        if(suggestions.childElementCount == maxResult) break;
    }
  }
}());
